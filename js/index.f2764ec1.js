(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={index:0},o=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"aa2f89a2"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Vue-Shop/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1628:function(t,e,a){"use strict";var r=a("bd4c"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s={name:"App",data:function(){return{}}},i=s,c=a("2877"),l=Object(c["a"])(i,n,o,!1,null,null,null),u=l.exports,d=(a("d3b7"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"shadow-2 rounded-borders"},[a("Header"),a("q-page-container",[a("router-view")],1)],1)},m=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-header",{staticClass:"bg-dark"},[a("q-toolbar",{staticClass:"q-px-xl text-grey-6",staticStyle:{height:"70px"}},[a("q-toolbar-title",{staticClass:"text-white",on:{click:function(e){return t.$router.push("/")}}},[t._v(t._s(t.title))]),a("q-space"),"/checkout"!==t.$route.path?a("MenuCart"):t._e(),a("q-btn",{attrs:{flat:"",icon:"fas fa-user-circle",to:"/login"}})],1)],1)},g=[],v=a("5530"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{attrs:{flat:"",icon:"fas fa-shopping-bag"}},[0!==t.cartData.carts.length?a("q-badge",{attrs:{color:"red",floating:"",transparent:""}},[t._v(t._s(t.cartData.carts.length))]):t._e(),a("q-menu",[a("q-list",{staticStyle:{"min-width":"300px"}},[a("q-item",{staticClass:"q-py-md"},[a("q-item-section",{staticClass:"text-h6"},[t._v("購物車")]),a("q-item-section",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-grey-8",attrs:{flat:"",icon:"fas fa-times"}})],1)],1),a("q-separator"),t._l(t.cartData.carts,(function(e){return a("q-item",{key:e.id},[a("q-item-section",{staticClass:"q-pa-sm"},[a("div",{staticClass:"text-body1 text-weight-medium"},[t._v(" "+t._s(e.product.title)+" ")]),a("div",{staticClass:"text-weight-light text-grey-8"},[t._v(" "+t._s(e.product.description)+" ")]),a("div",{staticClass:"q-mt-sm text-weight-regular text-grey-9"},[t._v(" "+t._s(t._f("currency")(e.product.price))+" ")])]),a("div",{staticClass:"column justify-end q-px-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"q-ma-sm"},[t._v(t._s(e.product.num)+"/"+t._s(e.product.unit))]),a("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",size:"sm",loading:t.loading==e.id},on:{click:function(a){return t.deleteCart(e.id)}}})],1)]),a("q-separator",{staticClass:"absolute-bottom"})],1)})),a("q-item",{staticClass:"column"},[a("div",{staticClass:"row q-my-sm"},[a("q-item-section",{staticClass:"text-grey-9"},[t._v("合計")]),a("q-item-section",{staticClass:"text-right text-weight-medium"},[t._v(" "+t._s(t._f("currency")(t.cartData.total))+" ")])],1),a("div",{staticClass:"q-ma-sm"},[a("q-btn",{staticClass:"full-width ",attrs:{color:"black",label:"結帳",to:"/checkout"}})],1)])],2)],1)],1)},h=[],C=a("2f62"),_={data:function(){return{coupon:""}},computed:Object(v["a"])({},Object(C["d"])("front",["cartData"]),{},Object(C["d"])("front",{loading:function(t){return t.loadings.deleteCart}})),methods:Object(C["b"])("front",["getCarts","deleteCart","addCouponCode"]),created:function(){this.getCarts()}},q=_,x=a("fe09"),w=Object(c["a"])(q,b,h,!1,null,null,null),O=w.exports;w.options.components=Object.assign({QBtn:x["c"],QBadge:x["b"],QMenu:x["w"],QList:x["u"],QItem:x["r"],QItemSection:x["s"],QSeparator:x["C"]},w.options.components||{}),w.options.directives=Object.assign({ClosePopup:x["a"]},w.options.directives||{});var y={components:{MenuCart:O},data:function(){return{}},methods:Object(v["a"])({},Object(C["b"])("login",["signout"])),computed:{title:function(){return this.$store.state.front.title}}},k=y,j=Object(c["a"])(k,f,g,!1,null,null,null),P=j.exports;j.options.components=Object.assign({QHeader:x["n"],QToolbar:x["G"],QToolbarTitle:x["H"],QSpace:x["D"],QBtn:x["c"]},j.options.components||{});var Q={components:{Header:P},data:function(){return{}}},$=Q,S=Object(c["a"])($,p,m,!1,null,null,null),L=S.exports;S.options.components=Object.assign({QLayout:x["t"],QPageContainer:x["y"]},S.options.components||{});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",[a("q-page-container",[a("q-page",{staticClass:"bg-blue-grey-10 column justify-center items-center"},[a("q-card",{staticClass:"login q-pa-lg shadow-6"},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Login")])]),a("q-card-section",{staticClass:"q-pb-lg"},[a("q-form",{staticClass:"q-gutter-y-md column",on:{submit:t.signin}},[a("q-input",{attrs:{outlined:"",type:"text",label:"username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("q-input",{attrs:{outlined:"",type:"password",label:"password",autocomplete:"off"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-btn",{staticClass:"full-width q-mt-lg",attrs:{unelevated:"",color:"blue",size:"lg",label:"Login",type:"submit"}})],1)],1)],1)],1)],1)],1)},R=[],D={name:"Login",methods:Object(v["a"])({},Object(C["b"])("login",["signin"])),computed:{username:{get:function(){return this.$store.state.login.user.username},set:function(t){this.$store.commit("login/updateUsername",t)}},password:{get:function(){return this.$store.state.login.user.password},set:function(t){this.$store.commit("login/updatePassword",t)}}}},T=D,N=(a("1628"),Object(c["a"])(T,E,R,!1,null,null,null)),I=N.exports;N.options.components=Object.assign({QLayout:x["t"],QPageContainer:x["y"],QPage:x["x"],QCard:x["d"],QCardSection:x["f"],QForm:x["m"],QInput:x["q"],QBtn:x["c"]},N.options.components||{});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{staticClass:"shadow-2 rounded-borders"},[a("Header"),a("Drawer"),a("q-page-container",[a("router-view")],1)],1)},A=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-header",{staticClass:"bg-dark"},[a("q-toolbar",{staticClass:"q-px-lg",staticStyle:{height:"70px"}},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.drawer=!t.drawer}}}),a("q-separator",{staticClass:"q-mx-lg",staticStyle:{height:"54px"},attrs:{dark:"",vertical:"",inset:""}}),a("q-toolbar-title",[t._v(t._s(t.title))]),a("q-space"),a("q-btn",{attrs:{outline:"",label:"登出"},on:{click:t.signout}})],1)],1)},B=[],M={data:function(){return{}},methods:Object(v["a"])({},Object(C["b"])("login",["signout"])),computed:{drawer:{get:function(){return this.$store.state.admin.drawer},set:function(t){this.$store.commit("admin/updateDrawer",t)}},title:function(){return this.$store.state.admin.title}}},F=M,H=Object(c["a"])(F,V,B,!1,null,null,null),z=H.exports;H.options.components=Object.assign({QHeader:x["n"],QToolbar:x["G"],QBtn:x["c"],QSeparator:x["C"],QToolbarTitle:x["H"],QSpace:x["D"]},H.options.components||{});var G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-drawer",{attrs:{"show-if-above":"",width:200,breakpoint:500,bordered:"","content-class":"bg-grey-3"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("q-scroll-area",{staticClass:"fit"},t._l(t.menuList,(function(e,r){return a("q-list",{key:r},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"Outbox"===e.label,to:e.link,exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon,color:e.iconColor}})],1),a("q-item-section",[t._v(" "+t._s(e.label)+" ")])],1),e.separator?a("q-separator"):t._e()],1)})),1)],1)},J=[],W={computed:{drawer:{get:function(){return this.$store.state.admin.drawer},set:function(t){this.$store.commit("admin/updateDrawer",t)}},menuList:function(){return this.$store.state.admin.menuList}}},Y=W,K=Object(c["a"])(Y,G,J,!1,null,null,null),X=K.exports;K.options.components=Object.assign({QDrawer:x["j"],QScrollArea:x["A"],QList:x["u"],QItem:x["r"],QItemSection:x["s"],QIcon:x["o"],QSeparator:x["C"]},K.options.components||{}),K.options.directives=Object.assign({Ripple:x["I"]},K.options.directives||{});var Z={components:{Header:z,Drawer:X},data:function(){return{}}},tt=Z,et=Object(c["a"])(tt,U,A,!1,null,null,null),at=et.exports;et.options.components=Object.assign({QLayout:x["t"],QPageContainer:x["y"]},et.options.components||{});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg"},[a("q-table",{attrs:{title:"商品",data:t.products,columns:t.headers,"row-key":"name",loading:t.loading,separator:t.separator,pagination:t.pagination},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"text-h6"},[t._v("商品列表")]),a("q-space"),a("EditProduct",{attrs:{isNew:!0}})]},proxy:!0},{key:"body-cell-origin_price",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("currency")(e.row.origin_price))+" ")])]}},{key:"body-cell-price",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("currency")(e.row.price))+" ")])]}},{key:"body-cell-is_enabled",fn:function(t){return[a("isEnabled",{attrs:{props:t}})]}},{key:"body-cell-edit",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"row justify-center"},[a("EditProduct",{attrs:{isNew:!1,item:t.row}}),a("DeleteProduct",{attrs:{item:t.row}})],1)])]}},{key:"bottom",fn:function(){},proxy:!0}])}),a("Pagination",{attrs:{location:"products"}})],1)},nt=[],ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isNew?a("q-btn",{attrs:{color:"primary",label:"新增商品",loading:"new"==t.loading},on:{click:t.init}}):a("q-btn",{attrs:{flat:"",color:"primary",icon:"fas fa-edit",loading:t.loading==t.item.id},on:{click:t.init}}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persistent,callback:function(e){t.persistent=e},expression:"persistent"}},[a("ValidationObserver",{staticClass:"q-card",staticStyle:{width:"80vw","max-width":"700px"},attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.isNew?"新增商品":"編輯商品"))])]),a("q-separator"),a("q-card-section",{attrs:{horizontal:""}},[a("q-card-section",{staticClass:"col-4 q-pt-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 q-px-md"},[a("div",{staticClass:"q-mb-sm"},[t._v("圖片網址")]),a("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",label:"請輸入圖片網址"},model:{value:t.tempProduct.imageUrl,callback:function(e){t.$set(t.tempProduct,"imageUrl",e)},expression:"tempProduct.imageUrl"}}),a("div",{staticClass:"q-mb-sm"},[t._v("或 上傳圖片")]),a("q-file",{attrs:{name:"poster_file",filled:"",counter:"",label:"請選擇圖片",accept:".jpg, image/*",loading:t.uploading},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t.tempProduct.imageUrl?a("q-img",{staticClass:"rounded-borders",attrs:{src:t.tempProduct.imageUrl,"spinner-color":"white"}}):t._e()],1)])]),a("q-separator",{attrs:{vertical:""}}),a("q-card-section",{staticClass:"row q-pt-md"},[a("ValidationProvider",{staticClass:"col-12 q-px-md",attrs:{rules:"required",name:"標題",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("標題")]),a("q-input",{attrs:{outlined:"",label:"請輸入標題",error:r,"error-message":n[0]},model:{value:t.tempProduct.title,callback:function(e){t.$set(t.tempProduct,"title",e)},expression:"tempProduct.title"}})]}}],null,!0)}),a("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required",name:"分類",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("分類")]),a("q-input",{attrs:{outlined:"",label:"請輸入分類",error:r,"error-message":n[0]},model:{value:t.tempProduct.category,callback:function(e){t.$set(t.tempProduct,"category",e)},expression:"tempProduct.category"}})]}}],null,!0)}),a("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required|length:1",name:"單位",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("單位")]),a("q-input",{attrs:{outlined:"",label:"請輸入單位",error:r,"error-message":n[0]},model:{value:t.tempProduct.unit,callback:function(e){t.$set(t.tempProduct,"unit",e)},expression:"tempProduct.unit"}})]}}],null,!0)}),a("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required|numeric",name:"原價",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("原價")]),a("q-input",{attrs:{outlined:"",type:"number",label:"請輸入原價",prefix:"$",error:r,"error-message":n[0]},model:{value:t.tempProduct.origin_price,callback:function(e){t.$set(t.tempProduct,"origin_price",e)},expression:"tempProduct.origin_price"}})]}}],null,!0)}),a("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required|numeric",name:"售價",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("售價")]),a("q-input",{attrs:{outlined:"",type:"number",label:"請輸入售價",prefix:"$",error:r,"error-message":n[0]},model:{value:t.tempProduct.price,callback:function(e){t.$set(t.tempProduct,"price",e)},expression:"tempProduct.price"}})]}}],null,!0)}),a("div",{staticClass:"col-12 q-px-sm"},[a("q-checkbox",{attrs:{label:"是否啟用"},model:{value:t.isEnabled,callback:function(e){t.isEnabled=e},expression:"isEnabled"}})],1)],1)],1),a("q-separator"),a("q-card-section",{staticClass:"row"},[a("ValidationProvider",{staticClass:"col-6 q-pa-md",attrs:{rules:"max:30",name:"產品描述",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("產品描述")]),a("q-input",{attrs:{filled:"",type:"textarea",label:"請輸入產品描述",error:r,"error-message":n[0]},model:{value:t.tempProduct.description,callback:function(e){t.$set(t.tempProduct,"description",e)},expression:"tempProduct.description"}})]}}],null,!0)}),a("ValidationProvider",{staticClass:"col-6 q-pa-md",attrs:{rules:"max:50",name:"說明內容",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("說明內容")]),a("q-input",{attrs:{filled:"",type:"textarea",label:"請輸入說明內容",error:r,"error-message":n[0]},model:{value:t.tempProduct.content,callback:function(e){t.$set(t.tempProduct,"content",e)},expression:"tempProduct.content"}})]}}],null,!0)})],1),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",label:"取消"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:t.isNew?"新增":"更新",disable:r},on:{click:t.updateProduct}})],1)]}}])})],1)],1)},st=[],it=(a("96cf"),a("1da1")),ct={props:["isNew","item"],data:function(){return{persistent:!1,tempProduct:{},file:null,rules:[function(t){return!!t||"* 必填"}]}},computed:Object(v["a"])({isEnabled:{get:function(){return 1==this.tempProduct.is_enabled},set:function(t){this.tempProduct.is_enabled=t?1:0}}},Object(C["d"])("admin",{loading:function(t){return t.loadings.productUpdate},uploading:function(t){return t.loadings.uploading}})),methods:{updateProduct:function(){this.$store.dispatch("admin/updateProduct",{isNew:this.isNew,product:this.tempProduct})},init:function(){this.persistent=!0,this.isNew?this.tempProduct={is_enabled:0}:this.tempProduct=Object(v["a"])({},this.item)}},watch:{file:function(){var t=Object(it["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("admin/uploadFile",this.file);case 2:return e=t.sent,t.next=5,this.$set(this.tempProduct,"imageUrl",e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},lt=ct,ut=Object(c["a"])(lt,ot,st,!1,null,null,null),dt=ut.exports;ut.options.components=Object.assign({QBtn:x["c"],QDialog:x["i"],QCard:x["d"],QCardSection:x["f"],QSeparator:x["C"],QInput:x["q"],QFile:x["l"],QImg:x["p"],QCheckbox:x["g"],QCardActions:x["e"]},ut.options.components||{}),ut.options.directives=Object.assign({ClosePopup:x["a"]},ut.options.directives||{});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",loading:t.loading==t.item.id},on:{click:function(e){t.confirm=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"q-ma-md"},[t._v("確定要刪除此商品？")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"確定",color:"negative"},on:{click:t.deleteProduct}})],1)],1)],1)],1)},mt=[],ft={props:["item"],data:function(){return{confirm:!1}},computed:Object(C["d"])("admin",{loading:function(t){return t.loadings.productDelete}}),methods:{deleteProduct:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("admin/deleteProduct",t.item.id);case 2:case"end":return e.stop()}}),e)})))()}}},gt=ft,vt=Object(c["a"])(gt,pt,mt,!1,null,null,null),bt=vt.exports;vt.options.components=Object.assign({QBtn:x["c"],QDialog:x["i"],QCard:x["d"],QCardSection:x["f"],QCardActions:x["e"]},vt.options.components||{}),vt.options.directives=Object.assign({ClosePopup:x["a"]},vt.options.directives||{});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-lg flex flex-center"},[t.page?a("q-pagination",{attrs:{color:"teal",max:this.pagination.total_pages,"max-pages":6,"boundary-numbers":!0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)},Ct=[],_t={props:["location"],data:function(){return{current:6}},computed:{page:{get:function(){return this.pagination.current_page},set:function(t){var e="products"==this.location?"admin/getProducts":"admin/getOrders";this.$store.dispatch(e,t)}},pagination:function(){return this.$store.state.admin.pagination[this.location]}}},qt=_t,xt=Object(c["a"])(qt,ht,Ct,!1,null,null,null),wt=xt.exports;xt.options.components=Object.assign({QPagination:x["z"]},xt.options.components||{});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-td",{attrs:{props:t.props}},[1==t.props.row.is_enabled?a("q-icon",{attrs:{name:"fas fa-check",color:"positive"}}):a("q-icon",{attrs:{name:"fas fa-times",color:"negative"}})],1)},yt=[],kt={props:["props"]},jt=kt,Pt=Object(c["a"])(jt,Ot,yt,!1,null,null,null),Qt=Pt.exports;Pt.options.components=Object.assign({QTd:x["F"],QIcon:x["o"]},Pt.options.components||{});var $t={components:{DeleteProduct:bt,Pagination:wt,EditProduct:dt,isEnabled:Qt},data:function(){return{}},computed:Object(C["d"])("admin",{products:function(t){return t.products},headers:function(t){return t.headers.products},loading:function(t){return t.loadings.products},separator:function(t){return t.separator},pagination:function(t){return t.tablePage}}),created:function(){this.$store.dispatch("admin/getProducts")}},St=$t,Lt=Object(c["a"])(St,rt,nt,!1,null,null,null),Et=Lt.exports;Lt.options.components=Object.assign({QPage:x["x"],QTable:x["E"],QSpace:x["D"],QTd:x["F"]},Lt.options.components||{});var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg"},[a("q-table",{attrs:{title:"商品",data:t.sortOrder,columns:t.headers,"row-key":"name",loading:t.loading,separator:t.separator,pagination:t.pagination},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"text-h6"},[t._v("訂單列表")]),a("q-space")]},proxy:!0},{key:"body-cell-time",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("date")(e.row.create_at))+" ")])]}},{key:"body-cell-email",fn:function(e){return[a("q-td",{attrs:{props:e}},[e.row.user?a("span",[t._v(t._s(e.row.user.email))]):t._e()])]}},{key:"body-cell-item",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[a("q-expansion-item",{attrs:{"expand-separator":"",icon:"fas fa-stream",label:"商品列表"}},t._l(e.row.products,(function(e,r){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r},[a("q-item-section",[t._v(" "+t._s(e.product.title)+" 數量："+t._s(e.qty)+" "+t._s(e.product.unit)+" ")])],1)})),1)],1)],1)]}},{key:"body-cell-paid",fn:function(e){return[a("q-td",{attrs:{props:e}},[e.row.is_paid?a("strong",{staticClass:"text-positive"},[t._v("已付款")]):a("span",{staticClass:"text-grey-5"},[t._v("尚未起用")])])]}},{key:"bottom",fn:function(){},proxy:!0}])}),a("Pagination",{attrs:{location:"orders"}})],1)},Dt=[],Tt={components:{Pagination:wt},methods:Object(v["a"])({},Object(C["b"])("admin",["getOrders"])),computed:Object(v["a"])({},Object(C["c"])("admin",["sortOrder"]),{},Object(C["d"])("admin",["orders","separator"]),{},Object(C["d"])("admin",{loading:function(t){return t.loadings.orders},pagination:function(t){return t.tablePage},headers:function(t){return t.headers.orders}})),created:function(){this.getOrders()}},Nt=Tt,It=Object(c["a"])(Nt,Rt,Dt,!1,null,null,null),Ut=It.exports;It.options.components=Object.assign({QPage:x["x"],QTable:x["E"],QSpace:x["D"],QTd:x["F"],QList:x["u"],QExpansionItem:x["k"],QItem:x["r"],QItemSection:x["s"]},It.options.components||{}),It.options.directives=Object.assign({Ripple:x["I"]},It.options.directives||{});var At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg"},[a("q-table",{attrs:{title:"商品",data:t.coupons,columns:t.headers,"row-key":"name",loading:t.loading,pagination:t.pagination},scopedSlots:t._u([{key:"top",fn:function(){return[a("div",{staticClass:"text-h6"},[t._v("優惠卷列表")]),a("q-space"),a("EditCoupon",{attrs:{isNew:!0}})]},proxy:!0},{key:"body-cell-due_date",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("date")(e.row.due_date))+" ")])]}},{key:"body-cell-is_enabled",fn:function(t){return[a("isEnabled",{attrs:{props:t}})]}},{key:"body-cell-edit",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("div",{staticClass:"row justify-center"},[a("EditCoupon",{attrs:{isNew:!1,item:t.row}}),a("DeleteCoupon",{attrs:{item:t.row}})],1)])]}}])})],1)},Vt=[],Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isNew?a("q-btn",{attrs:{color:"primary",label:"新增優惠卷",loading:"new"==t.loadings.update},on:{click:t.init}}):a("q-btn",{attrs:{flat:"",color:"primary",icon:"fas fa-edit",loading:t.loadings.update==t.item.id},on:{click:t.init}}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persistent,callback:function(e){t.persistent=e},expression:"persistent"}},[a("ValidationObserver",{staticClass:"q-card",staticStyle:{width:"80vw","max-width":"700px"},attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v(t._s(t.isNew?"新增優惠卷":"編輯優惠卷"))])]),a("q-separator"),a("q-card-section",[a("q-card-section",{staticClass:"row q-pt-none"},[a("ValidationProvider",{staticClass:"col-12 q-px-md",attrs:{rules:"required",name:"標題",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("標題")]),a("q-input",{attrs:{outlined:"",label:"請輸入標題",error:r,"error-message":n[0]},model:{value:t.tempCoupon.title,callback:function(e){t.$set(t.tempCoupon,"title",e)},expression:"tempCoupon.title"}})]}}],null,!0)}),a("div",{staticClass:"col-6 q-pa-md"},[a("div",{staticClass:"q-mb-sm"},[t._v("到期日")]),a("q-date",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"col-6 q-pa-md"},[a("ValidationProvider",{attrs:{rules:"required|alpha_num",name:"優惠碼",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("優惠碼")]),a("q-input",{attrs:{outlined:"",label:"請輸入優惠碼",error:r,"error-message":n[0]},model:{value:t.tempCoupon.code,callback:function(e){t.$set(t.tempCoupon,"code",e)},expression:"tempCoupon.code"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{rules:"required|numeric|max_value:100",name:"折扣百分比",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",{staticClass:"q-mb-sm"},[t._v("折扣百分比")]),a("q-input",{attrs:{outlined:"",type:"number",label:"請輸入折扣百分比",suffix:"%",error:r,"error-message":n[0]},model:{value:t.tempCoupon.percent,callback:function(e){t.$set(t.tempCoupon,"percent",e)},expression:"tempCoupon.percent"}})]}}],null,!0)}),a("q-checkbox",{attrs:{label:"是否啟用"},model:{value:t.isEnabled,callback:function(e){t.isEnabled=e},expression:"isEnabled"}})],1)],1)],1),a("q-separator"),a("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",label:"取消"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:t.isNew?"新增":"更新",disable:r},on:{click:t.updateProduct}})],1)]}}])})],1)],1)},Mt=[],Ft=(a("fb6a"),{props:["isNew","item"],data:function(){return{persistent:!1,tempCoupon:{},file:null,rules:[function(t){return!!t||"* 必填"}]}},computed:Object(v["a"])({isEnabled:{get:function(){return 1==this.tempCoupon.is_enabled},set:function(t){this.tempCoupon.is_enabled=t?1:0}},date:{get:function(){var t=new Date(1e3*this.tempCoupon.due_date),e=t.getFullYear()+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2);return"".concat(e)},set:function(t){var e=Math.floor(new Date(t)/1e3);this.$set(this.tempCoupon,"due_date",e)}}},Object(C["d"])("admin",["loadings"])),methods:{updateProduct:function(){this.$store.dispatch("admin/updateCoupon",{isNew:this.isNew,coupon:this.tempCoupon})},init:function(){this.persistent=!0,this.isNew?(this.tempCoupon={is_enabled:0},this.$set(this.tempCoupon,"due_date",Math.floor(new Date/1e3))):this.tempCoupon=Object(v["a"])({},this.item)}}}),Ht=Ft,zt=Object(c["a"])(Ht,Bt,Mt,!1,null,null,null),Gt=zt.exports;zt.options.components=Object.assign({QBtn:x["c"],QDialog:x["i"],QCard:x["d"],QCardSection:x["f"],QSeparator:x["C"],QInput:x["q"],QDate:x["h"],QCheckbox:x["g"],QCardActions:x["e"]},zt.options.components||{}),zt.options.directives=Object.assign({ClosePopup:x["a"]},zt.options.directives||{});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",loading:t.loading==t.item.id},on:{click:function(e){t.confirm=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"q-ma-md"},[t._v("確定要刪除此優惠卷？")])]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"確定",color:"negative"},on:{click:t.deleteProduct}})],1)],1)],1)],1)},Wt=[],Yt={props:["item"],data:function(){return{confirm:!1}},computed:Object(C["d"])("admin",{loading:function(t){return t.loadings.couponDelete}}),methods:{deleteProduct:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("admin/deleteCoupon",t.item.id);case 2:case"end":return e.stop()}}),e)})))()}}},Kt=Yt,Xt=Object(c["a"])(Kt,Jt,Wt,!1,null,null,null),Zt=Xt.exports;Xt.options.components=Object.assign({QBtn:x["c"],QDialog:x["i"],QCard:x["d"],QCardSection:x["f"],QCardActions:x["e"]},Xt.options.components||{}),Xt.options.directives=Object.assign({ClosePopup:x["a"]},Xt.options.directives||{});var te={components:{EditCoupon:Gt,DeleteCoupon:Zt,isEnabled:Qt},methods:Object(v["a"])({},Object(C["b"])("admin",["getCoupons"])),computed:Object(v["a"])({},Object(C["d"])("admin",["coupons"]),{},Object(C["d"])("admin",{loading:function(t){return t.loadings.coupons},headers:function(t){return t.headers.coupons},pagination:function(t){return t.tablePage}})),created:function(){this.getCoupons()}},ee=te,ae=Object(c["a"])(ee,At,Vt,!1,null,null,null),re=ae.exports;ae.options.components=Object.assign({QPage:x["x"],QTable:x["E"],QSpace:x["D"],QTd:x["F"]},ae.options.components||{});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg"},["/checkout"!==t.$route.path?a("div",{staticClass:"row justify-start"},t._l(t.products,(function(t){return a("div",{key:t.id,staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[a("ProductCard",{attrs:{item:t}})],1)})),0):t._e(),"/checkout"!==t.$route.path?a("q-separator",{staticClass:"full-width q-ma-xl"}):t._e(),a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-4"},[a("Cart"),a("Coupon"),"/checkout"!==t.$route.path?a("div",{staticClass:"row justify-center q-my-xl"},[a("q-btn",{attrs:{color:"primary",label:"下一步"},on:{click:function(e){return t.scrollToElement(t.$refs.form)}}})],1):t._e()],1)]),a("q-separator",{staticClass:"full-width q-ma-xl"}),a("div",{ref:"form",staticClass:"row justify-center"},[a("div",{staticClass:"col-4"},[a("Order")],1)])],1)},oe=[],se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ValidationObserver",{ref:"check",staticClass:"column q-mt-sm",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[a("div",{staticClass:"col q-gutter-sm q-pa-sm"},[a("div",[t._v("Email")]),a("ValidationProvider",{attrs:{rules:"required|email",name:"Email",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("q-input",{attrs:{outlined:"",label:"請輸入 Email",error:r,"error-message":n[0]},model:{value:t.order.user.email,callback:function(e){t.$set(t.order.user,"email",e)},expression:"order.user.email"}})]}}],null,!0)}),a("div",[t._v("收件人姓名")]),a("ValidationProvider",{attrs:{rules:"required",name:"姓名",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("q-input",{attrs:{outlined:"",label:"請輸入姓名",error:r,"error-message":n[0]},model:{value:t.order.user.name,callback:function(e){t.$set(t.order.user,"name",e)},expression:"order.user.name"}})]}}],null,!0)}),a("div",[t._v("收件人電話")]),a("ValidationProvider",{attrs:{rules:"required|numeric|length:10",name:"電話",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("q-input",{attrs:{outlined:"",label:"請輸入電話",error:r,"error-message":n[0]},model:{value:t.order.user.tel,callback:function(e){t.$set(t.order.user,"tel",e)},expression:"order.user.tel"}})]}}],null,!0)}),a("div",[t._v("收件人地址")]),a("ValidationProvider",{attrs:{rules:"required",name:"地址",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("q-input",{attrs:{outlined:"",label:"請輸入地址",error:r,"error-message":n[0]},model:{value:t.order.user.address,callback:function(e){t.$set(t.order.user,"address",e)},expression:"order.user.address"}})]}}],null,!0)})],1),a("div",{staticClass:"col q-pa-md"},[a("q-separator")],1),a("ValidationProvider",{staticClass:"col q-gutter-sm q-pa-sm",attrs:{rules:"max:50",name:"留言",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.failed,n=e.errors;return[a("div",[t._v("留言")]),a("q-input",{attrs:{filled:"",type:"textarea",label:"請輸入留言",error:r,"error-message":n[0]},model:{value:t.order.message,callback:function(e){t.$set(t.order,"message",e)},expression:"order.message"}})]}}],null,!0)}),a("div",{staticClass:"col q-pa-sm q-my-md row justify-end"},[a("q-btn",{attrs:{color:"primary",label:"送出訂單",loading:t.loading,disable:r},on:{click:function(e){return t.createOrder(t.order)}}})],1)]}}])})},ie=[],ce=(a("5377"),{props:["submit"],data:function(){return{order:{user:{}}}},computed:Object(C["d"])("front",{loading:function(t){return t.loadings.createOrder}}),methods:Object(C["b"])("front",["createOrder"]),mounted:function(){var t=this;this.$watch((function(){t.$refs.check.flags.invalid||(t.$store.commit("front/checkOrderInfo",t.$refs.check.flags.invalid),t.submit&&t.createOrder(t.order))}))}}),le=ce,ue=Object(c["a"])(le,se,ie,!1,null,null,null),de=ue.exports;ue.options.components=Object.assign({QInput:x["q"],QSeparator:x["C"],QBtn:x["c"]},ue.options.components||{});var pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row q-gutter-md q-mt-sm"},[a("q-input",{staticClass:"col",attrs:{outlined:"",label:"請輸入優惠卷",dense:!0},model:{value:t.coupon,callback:function(e){t.coupon=e},expression:"coupon"}}),a("q-btn",{attrs:{outline:"",color:"primary",label:"套用"},on:{click:function(e){return t.addCouponCode(t.coupon)}}})],1)},me=[],fe={data:function(){return{coupon:""}},methods:Object(C["b"])("front",["addCouponCode"])},ge=fe,ve=Object(c["a"])(ge,pe,me,!1,null,null,null),be=ve.exports;ve.options.components=Object.assign({QInput:x["q"],QBtn:x["c"]},ve.options.components||{});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"q-ma-md bg-gray-6",attrs:{dark:""}},[a("q-card-section",{staticStyle:{height:"250px"},attrs:{horizontal:""}},[a("q-card-section",{staticClass:"col-6 row items-center"},[a("q-img",{staticClass:"rounded-borders",attrs:{contain:"",src:t.item.imageUrl}})],1),a("q-card-section",{staticClass:"q-pt-lg"},[a("q-badge",{attrs:{outline:"",color:"orange",label:t.item.category}}),a("div",{staticClass:"text-h6"},[t._v(t._s(t.item.title))]),a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.item.content))]),a("div",{staticClass:"column q-mt-xl"},[t.item.price?t._e():a("div",{staticClass:"text-body1"},[t._v(t._s(t.item.origin_price)+" 元")]),t.item.price?a("del",{staticClass:"text-body2"},[t._v("原價 "+t._s(t.item.origin_price)+" 元")]):t._e(),t.item.price?a("div",{staticClass:"text-body1"},[t._v("現在只要 "),a("br"),t._v(t._s(t.item.price)+" 元")]):t._e()])],1)],1),a("q-card-actions",[a("ShowProduct",{staticClass:"q-mr-md",attrs:{item:t.item}}),a("q-space"),a("AddToCart",{attrs:{id:t.item.id,num:"1"}})],1)],1)},Ce=[],_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-btn",{attrs:{outline:"",color:"red",icon:"fas fa-shopping-bag",label:"加入購物車",loading:t.loading==t.id},on:{click:t.addToCart}})},qe=[],xe={props:["id","num"],computed:Object(C["d"])("front",{loading:function(t){return t.loadings.addToCart}}),methods:{addToCart:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("front/addToCart",[t.id,t.num]);case 1:case"end":return e.stop()}}),e)})))()}}},we=xe,Oe=Object(c["a"])(we,_e,qe,!1,null,null,null),ye=Oe.exports;Oe.options.components=Object.assign({QBtn:x["c"]},Oe.options.components||{});var ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-btn",{attrs:{outline:"",color:"primary",label:"查看更多",loading:t.loading==t.item.id},on:{click:t.getProduct}}),a("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persistent,callback:function(e){t.persistent=e},expression:"persistent"}},[a("q-card",{staticStyle:{width:"80vw","max-width":"700px"},attrs:{dark:""}},[a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"text-h6"},[t._v("商品詳細")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times"}})],1),a("q-separator",{attrs:{dark:""}}),a("q-card-section",{staticClass:"row q-pt-none"},[a("div",{staticClass:"col-6 q-pa-md"},[a("q-img",{staticClass:"rounded-borders",attrs:{src:t.product.imageUrl}})],1),a("div",{staticClass:"col-6 q-pa-lg"},[a("q-badge",{attrs:{outline:"",color:"orange",label:t.item.category}}),a("div",{staticClass:"text-h6"},[t._v(t._s(t.item.title))]),a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.item.content))]),a("div",{staticClass:"column q-my-xl"},[t.item.price?t._e():a("div",{staticClass:"text-body1"},[t._v(t._s(t.item.origin_price)+" 元")]),t.item.price?a("del",{staticClass:"text-body2"},[t._v("原價 "+t._s(t.item.origin_price)+" 元")]):t._e(),t.item.price?a("div",{staticClass:"text-body1"},[t._v("現在只要 "+t._s(t.item.price)+" 元")]):t._e()]),a("q-select",{attrs:{dark:"",outlined:"","emit-value":"","map-options":"",options:t.selectOptions,label:"請選擇數量"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)]),a("q-separator",{attrs:{dark:""}}),a("q-card-actions",{attrs:{align:"right"}},[a("AddToCart",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{id:t.product.id,num:t.num}})],1)],1)],1)],1)},je=[],Pe={props:["item"],components:{AddToCart:ye},data:function(){return{persistent:!1,product:{},num:1}},computed:Object(v["a"])({},Object(C["d"])("front",{loading:function(t){return t.loadings.product}}),{},Object(C["c"])("front",["selectOptions"])),methods:{getProduct:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("front/getProduct",t.item.id);case 2:return t.product=e.sent,e.next=5,t.product.id;case 5:if(!e.sent){e.next=9;break}e.t0=!0,e.next=10;break;case 9:e.t0=!1;case 10:t.persistent=e.t0;case 11:case"end":return e.stop()}}),e)})))()}}},Qe=Pe,$e=Object(c["a"])(Qe,ke,je,!1,null,null,null),Se=$e.exports;$e.options.components=Object.assign({QBtn:x["c"],QDialog:x["i"],QCard:x["d"],QCardSection:x["f"],QSpace:x["D"],QSeparator:x["C"],QImg:x["p"],QBadge:x["b"],QSelect:x["B"],QCardActions:x["e"]},$e.options.components||{}),$e.options.directives=Object.assign({ClosePopup:x["a"]},$e.options.directives||{});var Le={props:["item"],components:{ShowProduct:Se,AddToCart:ye}},Ee=Le,Re=Object(c["a"])(Ee,he,Ce,!1,null,null,null),De=Re.exports;Re.options.components=Object.assign({QCard:x["d"],QCardSection:x["f"],QImg:x["p"],QBadge:x["b"],QCardActions:x["e"],QSpace:x["D"]},Re.options.components||{});var Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-markup-table",{attrs:{flat:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"}),a("th",{staticClass:"text-left"},[t._v("品名")]),a("th",{staticClass:"text-right"},[t._v("數量")]),a("th",{staticClass:"text-right"},[t._v("單價")])])]),a("tbody",[t._l(t.cartData.carts,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-left"},[a("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",size:"sm",loading:t.loading==e.id},on:{click:function(a){return t.deleteCart(e.id)}}})],1),a("td",{staticClass:"text-left"},[a("div",[t._v(t._s(e.product.title))]),e.coupon?a("div",{staticClass:"text-positive"},[t._v("已套用優惠卷")]):t._e()]),a("td",{staticClass:"text-right"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.product.price)))])])})),a("tr",[a("td",{staticClass:"text-left"}),a("td",{staticClass:"text-left"}),a("td",{staticClass:"text-right"},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cartData.total)))])]),t.cartData.final_total!==t.cartData.total?a("tr",[a("td",{staticClass:"text-left"}),a("td",{staticClass:"text-left"}),a("td",{staticClass:"text-right"},[t._v("折扣價")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cartData.final_total)))])]):t._e()],2)])],1)},Ne=[],Ie={data:function(){return{coupon:""}},computed:Object(v["a"])({},Object(C["d"])("front",["cartData"]),{},Object(C["d"])("front",{loading:function(t){return t.loadings.deleteCart}})),methods:Object(C["b"])("front",["getCarts","deleteCart","addCouponCode"]),created:function(){this.getCarts()}},Ue=Ie,Ae=Object(c["a"])(Ue,Te,Ne,!1,null,null,null),Ve=Ae.exports;Ae.options.components=Object.assign({QMarkupTable:x["v"],QBtn:x["c"]},Ae.options.components||{});var Be=a("0831"),Me=Be["a"].getScrollTarget,Fe=Be["a"].setScrollPosition,He={data:function(){return{showForm:!1}},components:{Cart:Ve,Coupon:be,Order:de,ProductCard:De},computed:Object(C["d"])("front",["products"]),methods:Object(v["a"])({},Object(C["b"])("front",["getProducts"]),{scrollToElement:function(t){var e=Me(t),a=t.offsetTop,r=1e3;Fe(e,a,r)}}),created:function(){this.getProducts()}},ze=He,Ge=Object(c["a"])(ze,ne,oe,!1,null,null,null),Je=Ge.exports;Ge.options.components=Object.assign({QPage:x["x"],QSeparator:x["C"],QBtn:x["c"]},Ge.options.components||{});var We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg row justify-center align-center"},[a("div",{staticClass:"col-4 column justify-center"},[a("CheckOrderList",{attrs:{order:t.order}}),a("CheckUserInfo",{attrs:{order:t.order}}),a("div",{staticClass:"q-mt-md",attrs:{align:"right"}},[t.order.is_paid?a("q-btn",{attrs:{color:"primary",label:"回首頁",to:"/"}}):a("q-btn",{attrs:{color:"negative",label:"確認付款去",loading:t.paying},on:{click:function(e){return t.payOrder(t.order.id)}}})],1)],1)])},Ye=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-markup-table",{staticClass:"q-mt-lg",attrs:{flat:""}},[a("tbody",[a("tr",[a("td",{staticClass:"text-left text-weight-bold"},[t._v("Email")]),a("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.email))])]),a("tr",[a("td",{staticClass:"text-left text-weight-bold"},[t._v("姓名")]),a("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.name))])]),a("tr",[a("td",{staticClass:"text-left text-weight-bold"},[t._v("收件人電話")]),a("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.tel))])]),a("tr",[a("td",{staticClass:"text-left text-weight-bold"},[t._v("收件人地址")]),a("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.address))])]),a("tr",[a("td",{staticClass:"text-left text-weight-bold"},[t._v("付款狀態")]),a("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t.order.is_paid?a("div",{staticClass:"text-positive"},[t._v(" 已付款 ")]):a("div",[t._v("尚未付款")])])])])])},Xe=[],Ze={props:["order"]},ta=Ze,ea=Object(c["a"])(ta,Ke,Xe,!1,null,null,null),aa=ea.exports;ea.options.components=Object.assign({QMarkupTable:x["v"]},ea.options.components||{});var ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-markup-table",{attrs:{flat:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("品名")]),a("th",{staticClass:"text-right"},[t._v("數量")]),a("th",{staticClass:"text-right"},[t._v("單價")])])]),a("tbody",[t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-left"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.final_total)))])])})),a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])])],2)])},na=[],oa={props:["order"]},sa=oa,ia=Object(c["a"])(sa,ra,na,!1,null,null,null),ca=ia.exports;ia.options.components=Object.assign({QMarkupTable:x["v"]},ia.options.components||{});var la={components:{CheckOrderList:ca,CheckUserInfo:aa},computed:Object(v["a"])({},Object(C["d"])("front",["order"]),{},Object(C["d"])("front",{paying:function(t){return t.loadings.payOrder}})),methods:Object(C["b"])("front",["getOrder","payOrder"]),created:function(){this.getOrder(this.$route.params.orderId)}},ua=la,da=Object(c["a"])(ua,We,Ye,!1,null,null,null),pa=da.exports;da.options.components=Object.assign({QPage:x["x"],QBtn:x["c"]},da.options.components||{});var ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-lg",staticStyle:{background:"#bfbfbf"}},[a("div",{staticClass:"row justify-start"},t._l(t.products,(function(t){return a("div",{key:t.id,staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[a("ProductCard",{attrs:{item:t}})],1)})),0)])},fa=[],ga={components:{ProductCard:De},computed:Object(C["d"])("front",["products"]),methods:Object(C["b"])("front",["getAllProducts"]),created:function(){this.getAllProducts()}},va=ga,ba=Object(c["a"])(va,ma,fa,!1,null,null,null),ha=ba.exports;ba.options.components=Object.assign({QPage:x["x"]},ba.options.components||{}),r["a"].use(d["a"]);var Ca=[{path:"*",redirect:"Login"},{path:"/login",name:"Login",component:I},{path:"/",name:"Home",component:L,children:[{path:"",name:"Products",component:ha},{path:"Checkout",name:"Checkout",component:Je},{path:"payment/:orderId",name:"Payment",component:pa}]},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/admin",name:"Admin",component:at,children:[{path:"",name:"Products",component:Et,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:Ut,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:re,meta:{requiresAuth:!0}}]},{path:"/",name:"Dashboard",component:at,children:[{path:"customer_order",name:"CustomerOrder",component:Je},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:pa}]}],_a=new d["a"]({routes:Ca}),qa=_a,xa=a("bc3a"),wa=a.n(xa),Oa=a("2a19"),ya=wa.a.create({baseURL:"https://vue-course-api.hexschool.io",withCredentials:!0}),ka={user:{username:"",password:""},isLogin:!1,message:""},ja={},Pa={signin:function(t){var e=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ya.post("admin/signin",ka.user).then((function(t){t.data.success&&(e("saveLoginState",!0),e("updateUsername",""),e("updatePassword",""),qa.push("/admin")),Oa["a"].create({type:t.data.success?"positive":"negative",message:t.data.message})}));case 2:case"end":return t.stop()}}),t)})))()},signout:function(t){var e=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ya.post("logout").then((function(t){e("updateMessage",t.data.message),t.data.success&&(e("saveLoginState",!1),qa.push("/login"))}));case 2:case"end":return t.stop()}}),t)})))()},checkLogin:function(t){var e=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=!1,t.next=3,ya.post("api/user/check").then((function(t){e("saveLoginState",t.data.success),a=t.data.success}));case 3:return t.next=5,a;case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}},Qa={updateUsername:function(t,e){t.user.username=e},updatePassword:function(t,e){t.user.password=e},saveLoginState:function(t,e){t.isLogin=e},updateMessage:function(t,e){t.message=e}},$a={namespaced:!0,state:ka,getters:ja,actions:Pa,mutations:Qa},Sa=(a("99af"),a("3835")),La=a("2909"),Ea={products:[{name:"start",label:"分類",align:"left",field:function(t){return t.category},format:function(t){return"".concat(t)},sortable:!1},{name:"title",label:"名稱",align:"left",field:"title"},{name:"origin_price",label:"原價",align:"right",field:"origin_price",sortable:!0},{name:"price",label:"售價",align:"right",field:"price",sortable:!0},{name:"is_enabled",label:"是否啟用",align:"center",field:"is_enabled"},{name:"edit",label:"編輯",align:"center",field:"edit",style:"width: 200px"}],orders:[{name:"time",label:"購買時間",align:"left",field:"create_at",sortable:!0},{name:"email",label:"Email",align:"left",field:"user"},{name:"item",label:"購買款項",align:"left"},{name:"total",label:"應付金額",align:"left",field:"total",sortable:!0},{name:"paid",label:"是否付款",align:"left",field:"is_paid"}],coupons:[{name:"name",label:"名稱",align:"left",field:"title"},{name:"percent",label:"折扣百分比(%)",align:"right",field:"percent",format:function(t){return"".concat(t,"%")}},{name:"due_date",label:"到期日",align:"right",field:"due_date"},{name:"is_enabled",label:"是否啟用",align:"center",field:"is_enable"},{name:"edit",label:"編輯",align:"center"}]},Ra=Ea,Da=wa.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("han","/admin"),withCredentials:!0}),Ta=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e?t.success?"上傳成功":"上傳失敗":t.message;Oa["a"].create({type:t.success?"positive":"negative",message:a})},Na={products:[],orders:[],coupons:[],drawer:!0,title:"後台管理",loadings:{products:!1,productUpdate:null,productDelete:null,uploading:!1,orders:!1,coupons:!1,couponUpdate:null,couponDelete:null},pagination:{products:{},orders:{}},tablePage:{rowsPerPage:10},tempProducts:{},separator:"horizontal",menuList:[{icon:"fas fa-home",iconColor:"dark",label:"回首頁",separator:!0,link:"/"},{icon:"fas fa-boxes",iconColor:"secondary",label:"商品列表",separator:!1,link:"/admin"},{icon:"fas fa-list-alt",iconColor:"accent",label:"訂單列表",separator:!1,link:"/admin/orders"},{icon:"fas fa-ticket-alt",iconColor:"warning",label:"優惠卷",separator:!0,link:"/admin/coupons"},{icon:"fas fa-shopping-bag",iconColor:"dark",label:"模擬訂單",separator:!1,link:"/customer_order"}],headers:Ra},Ia={sortOrder:function(t){var e=Object(La["a"])(t.orders),a=[];return e.length&&(a=e.sort((function(t,e){var a=t.is_paid?1:0,r=e.is_paid?1:0;return r-a}))),a}},Ua={getProducts:function(t){var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("updateLoading",["products",!0]),t.next=3,Da.get("products?page="+a).then((function(t){t.data.success?(e("updateProducts",t.data.products),e("updatePagination",[t.data.pagination,"products"])):(Ta(t.data),qa.push("login")),e("updateLoading",["products",!1])}));case 3:case"end":return t.stop()}}),t)})))()},getOrders:function(t){var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("updateLoading",["orders",!0]),t.next=3,Da.get("orders?page="+a).then((function(t){t.data.success?(e("updateOrders",t.data.orders),e("updatePagination",[t.data.pagination,"orders"])):(Ta(t.data),qa.push("login")),e("updateLoading",["orders",!1])}));case 3:case"end":return t.stop()}}),t)})))()},getCoupons:function(t){var e=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("updateLoading",["coupons",!0]),t.next=3,Da.get("coupons").then((function(t){t.data.success?e("updateCoupons",t.data.coupons):(Ta(t.data),qa.push("login")),e("updateLoading",["coupons",!1])}));case 3:case"end":return t.stop()}}),t)})))()},updateProduct:function(t,e){var a=t.dispatch,r=t.commit,n=e.isNew,o=e.product;return Object(it["a"])(regeneratorRuntime.mark((function t(){var e,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["productUpdate",n?"new":o.id]),e=n?"product":"product/"+o.id,s=n?"post":"put",i={data:o},t.next=6,Da[s](e,i).then((function(t){Ta(t.data),t.data.success&&a("getProducts"),r("updateLoading",["productUpdate",null])}));case 6:case"end":return t.stop()}}),t)})))()},updateCoupon:function(t,e){var a=t.dispatch,r=t.commit,n=e.isNew,o=e.coupon;return Object(it["a"])(regeneratorRuntime.mark((function t(){var e,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["couponUpdate",n?"new":o.id]),e=n?"coupon":"coupon/"+o.id,s=n?"post":"put",i={data:o},t.next=6,Da[s](e,i).then((function(t){Ta(t.data),t.data.success&&a("getCoupons"),r("updateLoading",["couponUpdate",null])}));case 6:case"end":return t.stop()}}),t)})))()},deleteProduct:function(t,e){var a=t.dispatch,r=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["productDelete",e]),n="product/"+e,t.next=4,Da.delete(n).then((function(t){Ta(t.data),t.data.success&&a("getProducts"),r("updateLoading",["productDelete",null])}));case 4:case"end":return t.stop()}}),t)})))()},deleteCoupon:function(t,e){var a=t.dispatch,r=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["couponDelete",e]),n="coupon/"+e,t.next=4,Da.delete(n).then((function(t){Ta(t.data),t.data.success&&a("getCoupons"),r("updateLoading",["couponDelete",null])}));case 4:case"end":return t.stop()}}),t)})))()},uploadFile:function(t,e){var a=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a("updateLoading",["uploading",!0]),r=null,n=new FormData,n.append("file-to-upload",e),t.next=6,Da.post("upload",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){Ta(t.data,!0),t.data.success&&(a("updateLoading",["uploading",!1]),r=t.data.imageUrl)}));case 6:return t.next=8,r;case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))()}},Aa={updateDrawer:function(t,e){t.drawer=e},updateProducts:function(t,e){t.products=e},updateOrders:function(t,e){t.orders=e},updateCoupons:function(t,e){t.coupons=e},updateLoading:function(t,e){var a=Object(Sa["a"])(e,2),r=a[0],n=a[1];t.loadings[r]=n},updateTempProduct:function(t,e){t.tempProducts=e},updatePagination:function(t,e){var a=Object(Sa["a"])(e,2),r=a[0],n=a[1];t.pagination[n]=r}},Va={namespaced:!0,state:Na,getters:Ia,actions:Ua,mutations:Aa},Ba=wa.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("han"),withCredentials:!0}),Ma=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e?t.success?"上傳成功":"上傳失敗":t.message;Oa["a"].create({type:t.success?"positive":"negative",message:a})},Fa={title:"網路點數專賣",products:[],cartData:{carts:{}},checkOrderInfo:!0,order:{user:{}},pagination:{},loadings:{products:!1,product:null,addToCart:null,cart:!1,deleteCart:null,addCouponCode:!1,createOrder:!1,payOrder:!1}},Ha={selectOptions:function(){for(var t=[],e=1;e<10;e++)t.push({label:"選購"+e+"件",value:e});return t}},za={getProducts:function(t){var e=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("updateLoading",["products",!0]),t.next=3,Ba.get("products?page="+a).then((function(t){t.data.success&&(e("updateProducts",t.data.products),e("updatePagination",[t.data.pagination,"products"])),e("updateLoading",["products",!1])}));case 3:case"end":return t.stop()}}),t)})))()},getAllProducts:function(t){var e=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("updateLoading",["products",!0]),t.next=3,Ba.get("products/all").then((function(t){t.data.success&&e("updateProducts",t.data.products),e("updateLoading",["products",!1])}));case 3:case"end":return t.stop()}}),t)})))()},getProduct:function(t,e){var a=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a("updateLoading",["product",e]),r={},t.next=4,Ba.get("product/"+e).then((function(t){t.data.success?r=t.data.product:Ma(t.data),a("updateLoading",["product",null])}));case 4:return t.next=6,r;case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()},addToCart:function(t,e){var a=t.dispatch,r=t.commit,n=Object(Sa["a"])(e,2),o=n[0],s=n[1],i=void 0===s?1:s;return Object(it["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["addToCart",o]),e={data:{product_id:o,qty:i}},t.next=4,Ba.post("cart",e).then((function(t){Ma(t.data),a("getCarts"),r("updateLoading",["addToCart",null])}));case 4:case"end":return t.stop()}}),t)})))()},getCarts:function(t){var e=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("updateLoading",["cart",!0]),t.next=3,Ba.get("cart").then((function(t){t.data.success&&e("updateCartData",t.data.data),e("updateLoading",["cart",!1])}));case 3:case"end":return t.stop()}}),t)})))()},deleteCart:function(t,e){var a=t.dispatch,r=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["deleteCart",e]),n="cart/"+e,t.next=4,Ba.delete(n).then((function(t){Ma(t.data),t.data.success&&a("getCarts"),r("updateLoading",["deleteCart",null])}));case 4:case"end":return t.stop()}}),t)})))()},addCouponCode:function(t,e){var a=t.dispatch,r=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["addCouponCode",!0]),n={data:{code:e}},t.next=4,Ba.post("coupon",n).then((function(t){Ma(t.data),a("getCarts"),r("updateLoading",["addCouponCode",!1])}));case 4:case"end":return t.stop()}}),t)})))()},createOrder:function(t,e){var a=t.dispatch,r=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["createOrder",!0]),n={data:e},t.next=4,Ba.post("order",n).then((function(t){Ma(t.data),t.data.success&&(a("getCarts"),qa.push("payment/"+t.data.orderId)),r("updateLoading",["createOrder",!1])}));case 4:case"end":return t.stop()}}),t)})))()},getOrder:function(t,e){var a=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a("updateLoading",["getOrder",!0]),t.next=3,Ba.get("order/"+e).then((function(t){t.data.success&&a("updateOrder",t.data.order),a("updateLoading",["getOrder",!1])}));case 3:case"end":return t.stop()}}),t)})))()},payOrder:function(t,e){var a=t.dispatch,r=t.commit;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r("updateLoading",["payOrder",!0]),t.next=3,Ba.post("pay/"+e).then((function(t){Ma(t.data),t.data.success&&a("getOrder",e),r("updateLoading",["payOrder",!1])}));case 3:case"end":return t.stop()}}),t)})))()}},Ga={updateProducts:function(t,e){t.products=e},updateLoading:function(t,e){var a=Object(Sa["a"])(e,2),r=a[0],n=a[1];t.loadings[r]=n},updatePagination:function(t,e){var a=Object(Sa["a"])(e,2),r=a[0],n=a[1];t.pagination[n]=r},updateCartData:function(t,e){t.cartData=e},updateOrder:function(t,e){t.order=e},checkOrderInfo:function(t,e){t.checkOrderInfo=e}},Ja={namespaced:!0,state:Fa,getters:Ha,actions:za,mutations:Ga};r["a"].use(C["a"]);var Wa=!1,Ya=new C["a"].Store({modules:{login:$a,admin:Va,front:Ja},strict:Wa}),Ka=a("a7fe"),Xa=a.n(Ka),Za=(a("c867"),a("db10")),tr=(a("7d6e"),a("e54f"),a("573e"),a("b05d"));r["a"].use(tr["a"],{config:{notify:{}},components:{},directives:{},plugins:{Notify:Oa["a"]},lang:Za["a"]});a("4160"),a("b64b"),a("159b");var er=a("7bb1"),ar=a("4c93"),rr=a("60d4");Object.keys(ar).forEach((function(t){Object(er["c"])(t,ar[t])})),Object(er["d"])("zh_TW",rr),r["a"].component("ValidationProvider",er["b"]),r["a"].component("ValidationObserver",er["a"]);a("a9e3"),a("b680"),a("ac1f"),a("5319");var nr=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var r=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return r})))},or=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};wa.a.defaults.withCredentials=!0,r["a"].use(Xa.a,wa.a),r["a"].filter("currency",nr),r["a"].filter("date",or),r["a"].config.productionTip=!1,new r["a"]({router:qa,store:Ya,render:function(t){return t(u)}}).$mount("#app"),qa.beforeEach((function(t,e,a){"/login"==t.path&&(Ya.dispatch("login/checkLogin")?a({path:"/admin"}):a()),t.meta.requiresAuth?Ya.dispatch("login/checkLogin")?a():a({path:"/login",query:{redirect:t.fullPath}}):a()}))},bd4c:function(t,e,a){},c867:function(t,e,a){}});
//# sourceMappingURL=index.f2764ec1.js.map