(function(t){function e(e){for(var n,s,i=e[0],c=e[1],u=e[2],l=0,p=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={index:0},o=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"7aee7d8d"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(t);var u=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(l);var r=a[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,r[1](u)}a[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Vue-Shop/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},1628:function(t,e,r){"use strict";var n=r("bd4c"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("4de4"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],s={name:"App",data:function(){return{}}},i=s,c=r("2877"),u=Object(c["a"])(i,a,o,!1,null,null,null),l=u.exports,d=(r("d3b7"),r("8c4f")),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{staticClass:"shadow-2 rounded-borders"},[r("Header"),r("q-page-container",[r("router-view")],1)],1)},m=[],f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-header",{staticClass:"bg-dark"},[r("q-toolbar",{staticClass:"q-px-xl text-grey-6",staticStyle:{height:"70px"}},[r("q-toolbar-title",{staticClass:"text-white",on:{click:function(e){return t.$router.push("/")}}},[t._v(" "+t._s(t.title)+" ")]),r("q-space"),"/checkout"!==t.$route.path?r("MenuCart"):t._e(),r("q-btn",{attrs:{flat:"",icon:"fas fa-user-circle",to:"/login"}})],1)],1)},g=[],b=r("5530"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-btn",{attrs:{flat:"",icon:"fas fa-shopping-bag"}},[0!==t.cartData.carts.length?r("q-badge",{attrs:{color:"red",floating:"",transparent:""}},[t._v(t._s(t.cartData.carts.length))]):t._e(),r("q-menu",[r("q-list",{staticStyle:{"min-width":"300px"}},[r("q-item",{staticClass:"q-py-md"},[r("q-item-section",{staticClass:"text-h6"},[t._v("購物車")]),r("q-item-section",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-grey-8",attrs:{flat:"",icon:"fas fa-times"}})],1)],1),r("q-separator"),t._l(t.cartData.carts,(function(e){return r("q-item",{key:e.id},[r("q-item-section",{staticClass:"q-pa-sm"},[r("div",{staticClass:"text-body1 text-weight-medium"},[t._v(" "+t._s(e.product.title)+" ")]),r("div",{staticClass:"text-weight-light text-grey-8"},[t._v(" "+t._s(e.product.description)+" ")]),r("div",{staticClass:"q-mt-sm text-weight-regular text-grey-9"},[t._v(" "+t._s(t._f("currency")(e.product.price))+" ")])]),r("div",{staticClass:"column justify-end q-px-sm"},[r("div",{staticClass:"row"},[r("div",{staticClass:"q-ma-sm"},[t._v(" "+t._s(e.product.num)+"/"+t._s(e.product.unit)+" ")]),r("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",size:"sm",loading:t.loading==e.id},on:{click:function(r){return t.deleteCart(e.id)}}})],1)]),r("q-separator",{staticClass:"absolute-bottom"})],1)})),r("q-item",{staticClass:"column"},[r("div",{staticClass:"row q-my-sm"},[r("q-item-section",{staticClass:"text-grey-9"},[t._v("合計")]),r("q-item-section",{staticClass:"text-right text-weight-medium"},[t._v(" "+t._s(t._f("currency")(t.cartData.total))+" ")])],1),r("div",{staticClass:"q-ma-sm"},[r("q-btn",{staticClass:"full-width ",attrs:{color:"black",label:"結帳",to:"/checkout"}})],1)])],2)],1)],1)},h=[],C=r("2f62"),_={data:function(){return{coupon:""}},computed:Object(b["a"])(Object(b["a"])({},Object(C["d"])("front",["cartData"])),Object(C["d"])("front",{loading:function(t){return t.loadings.deleteCart}})),methods:Object(C["b"])("front",["getCarts","deleteCart","addCouponCode"]),created:function(){this.getCarts()}},x=_,q=r("fe09"),O=Object(c["a"])(x,v,h,!1,null,null,null),w=O.exports;O.options.components=Object.assign(Object.create(O.options.components||null),O.options.components||{},{QBtn:q["c"],QBadge:q["b"],QMenu:q["w"],QList:q["u"],QItem:q["r"],QItemSection:q["s"],QSeparator:q["C"]}),O.options.directives=Object.assign(Object.create(O.options.directives||null),O.options.directives||{},{ClosePopup:q["a"]});var j={components:{MenuCart:w},data:function(){return{}},methods:Object(b["a"])({},Object(C["b"])("login",["signout"])),computed:{title:function(){return this.$store.state.front.title}}},k=j,y=Object(c["a"])(k,f,g,!1,null,null,null),P=y.exports;y.options.components=Object.assign(Object.create(y.options.components||null),y.options.components||{},{QHeader:q["n"],QToolbar:q["G"],QToolbarTitle:q["H"],QSpace:q["D"],QBtn:q["c"]});var Q={components:{Header:P},data:function(){return{}}},$=Q,S=Object(c["a"])($,p,m,!1,null,null,null),L=S.exports;S.options.components=Object.assign(Object.create(S.options.components||null),S.options.components||{},{QLayout:q["t"],QPageContainer:q["y"]});var E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",[r("q-page-container",[r("q-page",{staticClass:"bg-blue-grey-10 column justify-center items-center"},[r("q-card",{staticClass:"login q-pa-lg shadow-6"},[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v("Login")])]),r("q-card-section",{staticClass:"q-pb-lg"},[r("q-form",{staticClass:"q-gutter-y-md column",on:{submit:t.signin}},[r("q-input",{attrs:{outlined:"",type:"text",label:"username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),r("q-input",{attrs:{outlined:"",type:"password",label:"password",autocomplete:"off"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("q-btn",{staticClass:"full-width q-mt-lg",attrs:{unelevated:"",color:"blue",size:"lg",label:"Login",type:"submit"}})],1)],1)],1)],1)],1)],1)},R=[],D={name:"Login",methods:Object(b["a"])({},Object(C["b"])("login",["signin"])),computed:{username:{get:function(){return this.$store.state.login.user.username},set:function(t){this.$store.commit("login/updateUsername",t)}},password:{get:function(){return this.$store.state.login.user.password},set:function(t){this.$store.commit("login/updatePassword",t)}}}},T=D,N=(r("1628"),Object(c["a"])(T,E,R,!1,null,null,null)),I=N.exports;N.options.components=Object.assign(Object.create(N.options.components||null),N.options.components||{},{QLayout:q["t"],QPageContainer:q["y"],QPage:q["x"],QCard:q["d"],QCardSection:q["f"],QForm:q["m"],QInput:q["q"],QBtn:q["c"]});var A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{staticClass:"shadow-2 rounded-borders"},[r("Header"),r("Drawer"),r("q-page-container",[r("router-view")],1)],1)},U=[],V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-header",{staticClass:"bg-dark"},[r("q-toolbar",{staticClass:"q-px-lg",staticStyle:{height:"70px"}},[r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(e){t.drawer=!t.drawer}}}),r("q-separator",{staticClass:"q-mx-lg",staticStyle:{height:"54px"},attrs:{dark:"",vertical:"",inset:""}}),r("q-toolbar-title",[t._v(t._s(t.title))]),r("q-space"),r("q-btn",{attrs:{outline:"",label:"登出"},on:{click:t.signout}})],1)],1)},B=[],M={data:function(){return{}},methods:Object(b["a"])({},Object(C["b"])("login",["signout"])),computed:{drawer:{get:function(){return this.$store.state.admin.drawer},set:function(t){this.$store.commit("admin/updateDrawer",t)}},title:function(){return this.$store.state.admin.title}}},F=M,H=Object(c["a"])(F,V,B,!1,null,null,null),z=H.exports;H.options.components=Object.assign(Object.create(H.options.components||null),H.options.components||{},{QHeader:q["n"],QToolbar:q["G"],QBtn:q["c"],QSeparator:q["C"],QToolbarTitle:q["H"],QSpace:q["D"]});var G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-drawer",{attrs:{"show-if-above":"",width:200,breakpoint:500,bordered:"","content-class":"bg-grey-3"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("q-scroll-area",{staticClass:"fit"},t._l(t.menuList,(function(e,n){return r("q-list",{key:n},[r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",active:"Outbox"===e.label,to:e.link,exact:""}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:e.icon,color:e.iconColor}})],1),r("q-item-section",[t._v(" "+t._s(e.label)+" ")])],1),e.separator?r("q-separator"):t._e()],1)})),1)],1)},J=[],W={computed:{drawer:{get:function(){return this.$store.state.admin.drawer},set:function(t){this.$store.commit("admin/updateDrawer",t)}},menuList:function(){return this.$store.state.admin.menuList}}},Y=W,K=Object(c["a"])(Y,G,J,!1,null,null,null),X=K.exports;K.options.components=Object.assign(Object.create(K.options.components||null),K.options.components||{},{QDrawer:q["j"],QScrollArea:q["A"],QList:q["u"],QItem:q["r"],QItemSection:q["s"],QIcon:q["o"],QSeparator:q["C"]}),K.options.directives=Object.assign(Object.create(K.options.directives||null),K.options.directives||{},{Ripple:q["I"]});var Z={components:{Header:z,Drawer:X},data:function(){return{}}},tt=Z,et=Object(c["a"])(tt,A,U,!1,null,null,null),rt=et.exports;et.options.components=Object.assign(Object.create(et.options.components||null),et.options.components||{},{QLayout:q["t"],QPageContainer:q["y"]});var nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-lg"},[r("q-table",{attrs:{title:"商品",data:t.products,columns:t.headers,"row-key":"name",loading:t.loading,separator:t.separator,pagination:t.pagination},scopedSlots:t._u([{key:"top",fn:function(){return[r("div",{staticClass:"text-h6"},[t._v("商品列表")]),r("q-space"),r("EditProduct",{attrs:{isNew:!0}})]},proxy:!0},{key:"body-cell-origin_price",fn:function(e){return[r("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("currency")(e.row.origin_price))+" ")])]}},{key:"body-cell-price",fn:function(e){return[r("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("currency")(e.row.price))+" ")])]}},{key:"body-cell-is_enabled",fn:function(t){return[r("isEnabled",{attrs:{props:t}})]}},{key:"body-cell-edit",fn:function(t){return[r("q-td",{attrs:{props:t}},[r("div",{staticClass:"row justify-center"},[r("EditProduct",{attrs:{isNew:!1,item:t.row}}),r("DeleteProduct",{attrs:{item:t.row}})],1)])]}},{key:"bottom",fn:function(){},proxy:!0}])}),r("Pagination",{attrs:{location:"products"}})],1)},at=[],ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isNew?r("q-btn",{attrs:{color:"primary",label:"新增商品",loading:"new"==t.loading},on:{click:t.init}}):r("q-btn",{attrs:{flat:"",color:"primary",icon:"fas fa-edit",loading:t.loading==t.item.id},on:{click:t.init}}),r("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persistent,callback:function(e){t.persistent=e},expression:"persistent"}},[r("ValidationObserver",{staticClass:"q-card",staticStyle:{width:"80vw","max-width":"700px"},attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v(t._s(t.isNew?"新增商品":"編輯商品"))])]),r("q-separator"),r("q-card-section",{attrs:{horizontal:""}},[r("q-card-section",{staticClass:"col-4 q-pt-md"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 q-px-md"},[r("div",{staticClass:"q-mb-sm"},[t._v("圖片網址")]),r("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",label:"請輸入圖片網址"},model:{value:t.tempProduct.imageUrl,callback:function(e){t.$set(t.tempProduct,"imageUrl",e)},expression:"tempProduct.imageUrl"}}),r("div",{staticClass:"q-mb-sm"},[t._v("或 上傳圖片")]),r("q-file",{attrs:{name:"poster_file",filled:"",counter:"",label:"請選擇圖片",accept:".jpg, image/*",loading:t.uploading},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t.tempProduct.imageUrl?r("q-img",{staticClass:"rounded-borders",attrs:{src:t.tempProduct.imageUrl,"spinner-color":"white"}}):t._e()],1)])]),r("q-separator",{attrs:{vertical:""}}),r("q-card-section",{staticClass:"row q-pt-md"},[r("ValidationProvider",{staticClass:"col-12 q-px-md",attrs:{rules:"required",name:"標題",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("標題")]),r("q-input",{attrs:{outlined:"",label:"請輸入標題",error:n,"error-message":a[0]},model:{value:t.tempProduct.title,callback:function(e){t.$set(t.tempProduct,"title",e)},expression:"tempProduct.title"}})]}}],null,!0)}),r("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required",name:"分類",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("分類")]),r("q-input",{attrs:{outlined:"",label:"請輸入分類",error:n,"error-message":a[0]},model:{value:t.tempProduct.category,callback:function(e){t.$set(t.tempProduct,"category",e)},expression:"tempProduct.category"}})]}}],null,!0)}),r("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required|length:1",name:"單位",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("單位")]),r("q-input",{attrs:{outlined:"",label:"請輸入單位",error:n,"error-message":a[0]},model:{value:t.tempProduct.unit,callback:function(e){t.$set(t.tempProduct,"unit",e)},expression:"tempProduct.unit"}})]}}],null,!0)}),r("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required|numeric",name:"原價",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("原價")]),r("q-input",{attrs:{outlined:"",type:"number",label:"請輸入原價",prefix:"$",error:n,"error-message":a[0]},model:{value:t.tempProduct.origin_price,callback:function(e){t.$set(t.tempProduct,"origin_price",e)},expression:"tempProduct.origin_price"}})]}}],null,!0)}),r("ValidationProvider",{staticClass:"col-6 q-px-md",attrs:{rules:"required|numeric",name:"售價",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("售價")]),r("q-input",{attrs:{outlined:"",type:"number",label:"請輸入售價",prefix:"$",error:n,"error-message":a[0]},model:{value:t.tempProduct.price,callback:function(e){t.$set(t.tempProduct,"price",e)},expression:"tempProduct.price"}})]}}],null,!0)}),r("div",{staticClass:"col-12 q-px-sm"},[r("q-checkbox",{attrs:{label:"是否啟用"},model:{value:t.isEnabled,callback:function(e){t.isEnabled=e},expression:"isEnabled"}})],1)],1)],1),r("q-separator"),r("q-card-section",{staticClass:"row"},[r("ValidationProvider",{staticClass:"col-6 q-pa-md",attrs:{rules:"max:30",name:"產品描述",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("產品描述")]),r("q-input",{attrs:{filled:"",type:"textarea",label:"請輸入產品描述",error:n,"error-message":a[0]},model:{value:t.tempProduct.description,callback:function(e){t.$set(t.tempProduct,"description",e)},expression:"tempProduct.description"}})]}}],null,!0)}),r("ValidationProvider",{staticClass:"col-6 q-pa-md",attrs:{rules:"max:50",name:"說明內容",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("說明內容")]),r("q-input",{attrs:{filled:"",type:"textarea",label:"請輸入說明內容",error:n,"error-message":a[0]},model:{value:t.tempProduct.content,callback:function(e){t.$set(t.tempProduct,"content",e)},expression:"tempProduct.content"}})]}}],null,!0)})],1),r("q-separator"),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",label:"取消"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:t.isNew?"新增":"更新",disable:n},on:{click:t.updateProduct}})],1)]}}])})],1)],1)},st=[],it=(r("96cf"),r("1da1")),ct={props:["isNew","item"],data:function(){return{persistent:!1,tempProduct:{},file:null,rules:[function(t){return!!t||"* 必填"}]}},computed:Object(b["a"])({isEnabled:{get:function(){return 1==this.tempProduct.is_enabled},set:function(t){this.tempProduct.is_enabled=t?1:0}}},Object(C["d"])("admin",{loading:function(t){return t.loadings.productUpdate},uploading:function(t){return t.loadings.uploading}})),methods:{updateProduct:function(){this.$store.dispatch("admin/updateProduct",{isNew:this.isNew,product:this.tempProduct})},init:function(){this.persistent=!0,this.isNew?this.tempProduct={is_enabled:0}:this.tempProduct=Object(b["a"])({},this.item)}},watch:{file:function(){var t=Object(it["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("admin/uploadFile",this.file);case 2:return e=t.sent,t.next=5,this.$set(this.tempProduct,"imageUrl",e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},ut=ct,lt=Object(c["a"])(ut,ot,st,!1,null,null,null),dt=lt.exports;lt.options.components=Object.assign(Object.create(lt.options.components||null),lt.options.components||{},{QBtn:q["c"],QDialog:q["i"],QCard:q["d"],QCardSection:q["f"],QSeparator:q["C"],QInput:q["q"],QFile:q["l"],QImg:q["p"],QCheckbox:q["g"],QCardActions:q["e"]}),lt.options.directives=Object.assign(Object.create(lt.options.directives||null),lt.options.directives||{},{ClosePopup:q["a"]});var pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",loading:t.loading==t.item.id},on:{click:function(e){t.confirm=!0}}}),r("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[r("q-card",[r("q-card-section",{staticClass:"row items-center"},[r("div",{staticClass:"q-ma-md"},[t._v("確定要刪除此商品？")])]),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"確定",color:"negative"},on:{click:t.deleteProduct}})],1)],1)],1)],1)},mt=[],ft={props:["item"],data:function(){return{confirm:!1}},computed:Object(C["d"])("admin",{loading:function(t){return t.loadings.productDelete}}),methods:{deleteProduct:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("admin/deleteProduct",t.item.id);case 2:case"end":return e.stop()}}),e)})))()}}},gt=ft,bt=Object(c["a"])(gt,pt,mt,!1,null,null,null),vt=bt.exports;bt.options.components=Object.assign(Object.create(bt.options.components||null),bt.options.components||{},{QBtn:q["c"],QDialog:q["i"],QCard:q["d"],QCardSection:q["f"],QCardActions:q["e"]}),bt.options.directives=Object.assign(Object.create(bt.options.directives||null),bt.options.directives||{},{ClosePopup:q["a"]});var ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"q-pa-lg flex flex-center"},[t.page?r("q-pagination",{attrs:{color:"teal",max:this.pagination.total_pages,"max-pages":6,"boundary-numbers":!0},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1)},Ct=[],_t={props:["location"],data:function(){return{current:6}},computed:{page:{get:function(){return this.pagination.current_page},set:function(t){var e="products"==this.location?"admin/getProducts":"admin/getOrders";this.$store.dispatch(e,t)}},pagination:function(){return this.$store.state.admin.pagination[this.location]}}},xt=_t,qt=Object(c["a"])(xt,ht,Ct,!1,null,null,null),Ot=qt.exports;qt.options.components=Object.assign(Object.create(qt.options.components||null),qt.options.components||{},{QPagination:q["z"]});var wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-td",{attrs:{props:t.props}},[1==t.props.row.is_enabled?r("q-icon",{attrs:{name:"fas fa-check",color:"positive"}}):r("q-icon",{attrs:{name:"fas fa-times",color:"negative"}})],1)},jt=[],kt={props:["props"]},yt=kt,Pt=Object(c["a"])(yt,wt,jt,!1,null,null,null),Qt=Pt.exports;Pt.options.components=Object.assign(Object.create(Pt.options.components||null),Pt.options.components||{},{QTd:q["F"],QIcon:q["o"]});var $t={components:{DeleteProduct:vt,Pagination:Ot,EditProduct:dt,isEnabled:Qt},data:function(){return{}},computed:Object(C["d"])("admin",{products:function(t){return t.products},headers:function(t){return t.headers.products},loading:function(t){return t.loadings.products},separator:function(t){return t.separator},pagination:function(t){return t.tablePage}}),created:function(){this.$store.dispatch("admin/getProducts")}},St=$t,Lt=Object(c["a"])(St,nt,at,!1,null,null,null),Et=Lt.exports;Lt.options.components=Object.assign(Object.create(Lt.options.components||null),Lt.options.components||{},{QPage:q["x"],QTable:q["E"],QSpace:q["D"],QTd:q["F"]});var Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-lg"},[r("q-table",{attrs:{title:"商品",data:t.sortOrder,columns:t.headers,"row-key":"name",loading:t.loading,separator:t.separator,pagination:t.pagination},scopedSlots:t._u([{key:"top",fn:function(){return[r("div",{staticClass:"text-h6"},[t._v("訂單列表")]),r("q-space")]},proxy:!0},{key:"body-cell-time",fn:function(e){return[r("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("date")(e.row.create_at))+" ")])]}},{key:"body-cell-email",fn:function(e){return[r("q-td",{attrs:{props:e}},[e.row.user?r("span",[t._v(t._s(e.row.user.email))]):t._e()])]}},{key:"body-cell-item",fn:function(e){return[r("q-td",{attrs:{props:e}},[r("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[r("q-expansion-item",{attrs:{"expand-separator":"",icon:"fas fa-stream",label:"商品列表"}},t._l(e.row.products,(function(e,n){return r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n},[r("q-item-section",[t._v(" "+t._s(e.product.title)+" 數量："+t._s(e.qty)+" "+t._s(e.product.unit)+" ")])],1)})),1)],1)],1)]}},{key:"body-cell-paid",fn:function(e){return[r("q-td",{attrs:{props:e}},[e.row.is_paid?r("strong",{staticClass:"text-positive"},[t._v("已付款")]):r("span",{staticClass:"text-grey-5"},[t._v("尚未起用")])])]}},{key:"bottom",fn:function(){},proxy:!0}])}),r("Pagination",{attrs:{location:"orders"}})],1)},Dt=[],Tt={components:{Pagination:Ot},methods:Object(b["a"])({},Object(C["b"])("admin",["getOrders"])),computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(C["c"])("admin",["sortOrder"])),Object(C["d"])("admin",["orders","separator"])),Object(C["d"])("admin",{loading:function(t){return t.loadings.orders},pagination:function(t){return t.tablePage},headers:function(t){return t.headers.orders}})),created:function(){this.getOrders()}},Nt=Tt,It=Object(c["a"])(Nt,Rt,Dt,!1,null,null,null),At=It.exports;It.options.components=Object.assign(Object.create(It.options.components||null),It.options.components||{},{QPage:q["x"],QTable:q["E"],QSpace:q["D"],QTd:q["F"],QList:q["u"],QExpansionItem:q["k"],QItem:q["r"],QItemSection:q["s"]}),It.options.directives=Object.assign(Object.create(It.options.directives||null),It.options.directives||{},{Ripple:q["I"]});var Ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-lg"},[r("q-table",{attrs:{title:"商品",data:t.coupons,columns:t.headers,"row-key":"name",loading:t.loading,pagination:t.pagination},scopedSlots:t._u([{key:"top",fn:function(){return[r("div",{staticClass:"text-h6"},[t._v("優惠卷列表")]),r("q-space"),r("EditCoupon",{attrs:{isNew:!0}})]},proxy:!0},{key:"body-cell-due_date",fn:function(e){return[r("q-td",{attrs:{props:e}},[t._v(" "+t._s(t._f("date")(e.row.due_date))+" ")])]}},{key:"body-cell-is_enabled",fn:function(t){return[r("isEnabled",{attrs:{props:t}})]}},{key:"body-cell-edit",fn:function(t){return[r("q-td",{attrs:{props:t}},[r("div",{staticClass:"row justify-center"},[r("EditCoupon",{attrs:{isNew:!1,item:t.row}}),r("DeleteCoupon",{attrs:{item:t.row}})],1)])]}}])})],1)},Vt=[],Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isNew?r("q-btn",{attrs:{color:"primary",label:"新增優惠卷",loading:"new"==t.loadings.update},on:{click:t.init}}):r("q-btn",{attrs:{flat:"",color:"primary",icon:"fas fa-edit",loading:t.loadings.update==t.item.id},on:{click:t.init}}),r("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persistent,callback:function(e){t.persistent=e},expression:"persistent"}},[r("ValidationObserver",{staticClass:"q-card",staticStyle:{width:"80vw","max-width":"700px"},attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("q-card-section",[r("div",{staticClass:"text-h6"},[t._v(t._s(t.isNew?"新增優惠卷":"編輯優惠卷"))])]),r("q-separator"),r("q-card-section",[r("q-card-section",{staticClass:"row q-pt-none"},[r("ValidationProvider",{staticClass:"col-12 q-px-md",attrs:{rules:"required",name:"標題",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("標題")]),r("q-input",{attrs:{outlined:"",label:"請輸入標題",error:n,"error-message":a[0]},model:{value:t.tempCoupon.title,callback:function(e){t.$set(t.tempCoupon,"title",e)},expression:"tempCoupon.title"}})]}}],null,!0)}),r("div",{staticClass:"col-6 q-pa-md"},[r("div",{staticClass:"q-mb-sm"},[t._v("到期日")]),r("q-date",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),r("div",{staticClass:"col-6 q-pa-md"},[r("ValidationProvider",{attrs:{rules:"required|alpha_num",name:"優惠碼",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("優惠碼")]),r("q-input",{attrs:{outlined:"",label:"請輸入優惠碼",error:n,"error-message":a[0]},model:{value:t.tempCoupon.code,callback:function(e){t.$set(t.tempCoupon,"code",e)},expression:"tempCoupon.code"}})]}}],null,!0)}),r("ValidationProvider",{attrs:{rules:"required|numeric|max_value:100",name:"折扣百分比",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",{staticClass:"q-mb-sm"},[t._v("折扣百分比")]),r("q-input",{attrs:{outlined:"",type:"number",label:"請輸入折扣百分比",suffix:"%",error:n,"error-message":a[0]},model:{value:t.tempCoupon.percent,callback:function(e){t.$set(t.tempCoupon,"percent",e)},expression:"tempCoupon.percent"}})]}}],null,!0)}),r("q-checkbox",{attrs:{label:"是否啟用"},model:{value:t.isEnabled,callback:function(e){t.isEnabled=e},expression:"isEnabled"}})],1)],1)],1),r("q-separator"),r("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"negative",label:"取消"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:t.isNew?"新增":"更新",disable:n},on:{click:t.updateProduct}})],1)]}}])})],1)],1)},Mt=[],Ft=(r("fb6a"),{props:["isNew","item"],data:function(){return{persistent:!1,tempCoupon:{},file:null,rules:[function(t){return!!t||"* 必填"}]}},computed:Object(b["a"])({isEnabled:{get:function(){return 1==this.tempCoupon.is_enabled},set:function(t){this.tempCoupon.is_enabled=t?1:0}},date:{get:function(){var t=new Date(1e3*this.tempCoupon.due_date),e=t.getFullYear()+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+("0"+t.getDate()).slice(-2);return"".concat(e)},set:function(t){var e=Math.floor(new Date(t)/1e3);this.$set(this.tempCoupon,"due_date",e)}}},Object(C["d"])("admin",["loadings"])),methods:{updateProduct:function(){this.$store.dispatch("admin/updateCoupon",{isNew:this.isNew,coupon:this.tempCoupon})},init:function(){this.persistent=!0,this.isNew?(this.tempCoupon={is_enabled:0},this.$set(this.tempCoupon,"due_date",Math.floor(new Date/1e3))):this.tempCoupon=Object(b["a"])({},this.item)}}}),Ht=Ft,zt=Object(c["a"])(Ht,Bt,Mt,!1,null,null,null),Gt=zt.exports;zt.options.components=Object.assign(Object.create(zt.options.components||null),zt.options.components||{},{QBtn:q["c"],QDialog:q["i"],QCard:q["d"],QCardSection:q["f"],QSeparator:q["C"],QInput:q["q"],QDate:q["h"],QCheckbox:q["g"],QCardActions:q["e"]}),zt.options.directives=Object.assign(Object.create(zt.options.directives||null),zt.options.directives||{},{ClosePopup:q["a"]});var Jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",loading:t.loading==t.item.id},on:{click:function(e){t.confirm=!0}}}),r("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[r("q-card",[r("q-card-section",{staticClass:"row items-center"},[r("div",{staticClass:"q-ma-md"},[t._v("確定要刪除此優惠卷？")])]),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"取消",color:"primary"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"確定",color:"negative"},on:{click:t.deleteProduct}})],1)],1)],1)],1)},Wt=[],Yt={props:["item"],data:function(){return{confirm:!1}},computed:Object(C["d"])("admin",{loading:function(t){return t.loadings.couponDelete}}),methods:{deleteProduct:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("admin/deleteCoupon",t.item.id);case 2:case"end":return e.stop()}}),e)})))()}}},Kt=Yt,Xt=Object(c["a"])(Kt,Jt,Wt,!1,null,null,null),Zt=Xt.exports;Xt.options.components=Object.assign(Object.create(Xt.options.components||null),Xt.options.components||{},{QBtn:q["c"],QDialog:q["i"],QCard:q["d"],QCardSection:q["f"],QCardActions:q["e"]}),Xt.options.directives=Object.assign(Object.create(Xt.options.directives||null),Xt.options.directives||{},{ClosePopup:q["a"]});var te={components:{EditCoupon:Gt,DeleteCoupon:Zt,isEnabled:Qt},methods:Object(b["a"])({},Object(C["b"])("admin",["getCoupons"])),computed:Object(b["a"])(Object(b["a"])({},Object(C["d"])("admin",["coupons"])),Object(C["d"])("admin",{loading:function(t){return t.loadings.coupons},headers:function(t){return t.headers.coupons},pagination:function(t){return t.tablePage}})),created:function(){this.getCoupons()}},ee=te,re=Object(c["a"])(ee,Ut,Vt,!1,null,null,null),ne=re.exports;re.options.components=Object.assign(Object.create(re.options.components||null),re.options.components||{},{QPage:q["x"],QTable:q["E"],QSpace:q["D"],QTd:q["F"]});var ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-lg"},["/checkout"!==t.$route.path?r("div",{staticClass:"row justify-start"},t._l(t.products,(function(t){return r("div",{key:t.id,staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[r("ProductCard",{attrs:{item:t}})],1)})),0):t._e(),"/checkout"!==t.$route.path?r("q-separator",{staticClass:"full-width q-ma-xl"}):t._e(),r("div",{staticClass:"row justify-center"},[r("div",{staticClass:"col-4"},[r("Cart"),r("Coupon"),"/checkout"!==t.$route.path?r("div",{staticClass:"row justify-center q-my-xl"},[r("q-btn",{attrs:{color:"primary",label:"下一步"},on:{click:function(e){return t.scrollToElement(t.$refs.form)}}})],1):t._e()],1)]),r("q-separator",{staticClass:"full-width q-ma-xl"}),r("div",{ref:"form",staticClass:"row justify-center"},[r("div",{staticClass:"col-4"},[r("Order")],1)])],1)},oe=[],se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ValidationObserver",{ref:"check",staticClass:"column q-mt-sm",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[r("div",{staticClass:"col q-gutter-sm q-pa-sm"},[r("div",[t._v("Email")]),r("ValidationProvider",{attrs:{rules:"required|email",name:"Email",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("q-input",{attrs:{outlined:"",label:"請輸入 Email",error:n,"error-message":a[0]},model:{value:t.order.user.email,callback:function(e){t.$set(t.order.user,"email",e)},expression:"order.user.email"}})]}}],null,!0)}),r("div",[t._v("收件人姓名")]),r("ValidationProvider",{attrs:{rules:"required",name:"姓名",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("q-input",{attrs:{outlined:"",label:"請輸入姓名",error:n,"error-message":a[0]},model:{value:t.order.user.name,callback:function(e){t.$set(t.order.user,"name",e)},expression:"order.user.name"}})]}}],null,!0)}),r("div",[t._v("收件人電話")]),r("ValidationProvider",{attrs:{rules:"required|numeric|length:10",name:"電話",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("q-input",{attrs:{outlined:"",label:"請輸入電話",error:n,"error-message":a[0]},model:{value:t.order.user.tel,callback:function(e){t.$set(t.order.user,"tel",e)},expression:"order.user.tel"}})]}}],null,!0)}),r("div",[t._v("收件人地址")]),r("ValidationProvider",{attrs:{rules:"required",name:"地址",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("q-input",{attrs:{outlined:"",label:"請輸入地址",error:n,"error-message":a[0]},model:{value:t.order.user.address,callback:function(e){t.$set(t.order.user,"address",e)},expression:"order.user.address"}})]}}],null,!0)})],1),r("div",{staticClass:"col q-pa-md"},[r("q-separator")],1),r("ValidationProvider",{staticClass:"col q-gutter-sm q-pa-sm",attrs:{rules:"max:50",name:"留言",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.failed,a=e.errors;return[r("div",[t._v("留言")]),r("q-input",{attrs:{filled:"",type:"textarea",label:"請輸入留言",error:n,"error-message":a[0]},model:{value:t.order.message,callback:function(e){t.$set(t.order,"message",e)},expression:"order.message"}})]}}],null,!0)}),r("div",{staticClass:"col q-pa-sm q-my-md row justify-end"},[r("q-btn",{attrs:{color:"primary",label:"送出訂單",loading:t.loading,disable:n},on:{click:function(e){return t.createOrder(t.order)}}})],1)]}}])})},ie=[],ce=(r("5377"),{props:["submit"],data:function(){return{order:{user:{}}}},computed:Object(C["d"])("front",{loading:function(t){return t.loadings.createOrder}}),methods:Object(C["b"])("front",["createOrder"]),mounted:function(){var t=this;this.$watch((function(){t.$refs.check.flags.invalid||(t.$store.commit("front/checkOrderInfo",t.$refs.check.flags.invalid),t.submit&&t.createOrder(t.order))}))}}),ue=ce,le=Object(c["a"])(ue,se,ie,!1,null,null,null),de=le.exports;le.options.components=Object.assign(Object.create(le.options.components||null),le.options.components||{},{QInput:q["q"],QSeparator:q["C"],QBtn:q["c"]});var pe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row q-gutter-md q-mt-sm"},[r("q-input",{staticClass:"col",attrs:{outlined:"",label:"請輸入優惠卷",dense:!0},model:{value:t.coupon,callback:function(e){t.coupon=e},expression:"coupon"}}),r("q-btn",{attrs:{outline:"",color:"primary",label:"套用"},on:{click:function(e){return t.addCouponCode(t.coupon)}}})],1)},me=[],fe={data:function(){return{coupon:""}},methods:Object(C["b"])("front",["addCouponCode"])},ge=fe,be=Object(c["a"])(ge,pe,me,!1,null,null,null),ve=be.exports;be.options.components=Object.assign(Object.create(be.options.components||null),be.options.components||{},{QInput:q["q"],QBtn:q["c"]});var he=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-card",{staticClass:"q-ma-md bg-gray-6",attrs:{dark:""}},[r("q-card-section",{staticStyle:{height:"250px"},attrs:{horizontal:""}},[r("q-card-section",{staticClass:"col-6 row items-center"},[r("q-img",{staticClass:"rounded-borders",attrs:{contain:"",src:t.item.imageUrl}})],1),r("q-card-section",{staticClass:"q-pt-lg"},[r("q-badge",{attrs:{outline:"",color:"orange",label:t.item.category}}),r("div",{staticClass:"text-h6"},[t._v(t._s(t.item.title))]),r("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.item.content))]),r("div",{staticClass:"column q-mt-xl"},[t.item.price?t._e():r("div",{staticClass:"text-body1"},[t._v(" "+t._s(t.item.origin_price)+" 元 ")]),t.item.price?r("del",{staticClass:"text-body2"},[t._v(" 原價 "+t._s(t.item.origin_price)+" 元 ")]):t._e(),t.item.price?r("div",{staticClass:"text-body1"},[t._v(" 現在只要 "),r("br"),t._v(t._s(t.item.price)+" 元 ")]):t._e()])],1)],1),r("q-card-actions",[r("ShowProduct",{staticClass:"q-mr-md",attrs:{item:t.item}}),r("q-space"),r("AddToCart",{attrs:{id:t.item.id,num:"1"}})],1)],1)},Ce=[],_e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-btn",{attrs:{outline:"",color:"red",icon:"fas fa-shopping-bag",label:"加入購物車",loading:t.loading==t.id},on:{click:t.addToCart}})},xe=[],qe={props:["id","num"],computed:Object(C["d"])("front",{loading:function(t){return t.loadings.addToCart}}),methods:{addToCart:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("front/addToCart",[t.id,t.num]);case 1:case"end":return e.stop()}}),e)})))()}}},Oe=qe,we=Object(c["a"])(Oe,_e,xe,!1,null,null,null),je=we.exports;we.options.components=Object.assign(Object.create(we.options.components||null),we.options.components||{},{QBtn:q["c"]});var ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("q-btn",{attrs:{outline:"",color:"primary",label:"查看更多",loading:t.loading==t.item.id},on:{click:t.getProduct}}),r("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:t.persistent,callback:function(e){t.persistent=e},expression:"persistent"}},[r("q-card",{staticStyle:{width:"80vw","max-width":"700px"},attrs:{dark:""}},[r("q-card-section",{staticClass:"row"},[r("div",{staticClass:"text-h6"},[t._v("商品詳細")]),r("q-space"),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",icon:"fas fa-times"}})],1),r("q-separator",{attrs:{dark:""}}),r("q-card-section",{staticClass:"row q-pt-none"},[r("div",{staticClass:"col-6 q-pa-md"},[r("q-img",{staticClass:"rounded-borders",attrs:{src:t.product.imageUrl}})],1),r("div",{staticClass:"col-6 q-pa-lg"},[r("q-badge",{attrs:{outline:"",color:"orange",label:t.item.category}}),r("div",{staticClass:"text-h6"},[t._v(t._s(t.item.title))]),r("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.item.content))]),r("div",{staticClass:"column q-my-xl"},[t.item.price?t._e():r("div",{staticClass:"text-body1"},[t._v(" "+t._s(t.item.origin_price)+" 元 ")]),t.item.price?r("del",{staticClass:"text-body2"},[t._v(" 原價 "+t._s(t.item.origin_price)+" 元 ")]):t._e(),t.item.price?r("div",{staticClass:"text-body1"},[t._v(" 現在只要 "+t._s(t.item.price)+" 元 ")]):t._e()]),r("q-select",{attrs:{dark:"",outlined:"","emit-value":"","map-options":"",options:t.selectOptions,label:"請選擇數量"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)]),r("q-separator",{attrs:{dark:""}}),r("q-card-actions",{attrs:{align:"right"}},[r("AddToCart",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{id:t.product.id,num:t.num}})],1)],1)],1)],1)},ye=[],Pe={props:["item"],components:{AddToCart:je},data:function(){return{persistent:!1,product:{},num:1}},computed:Object(b["a"])(Object(b["a"])({},Object(C["d"])("front",{loading:function(t){return t.loadings.product}})),Object(C["c"])("front",["selectOptions"])),methods:{getProduct:function(){var t=this;return Object(it["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("front/getProduct",t.item.id);case 2:return t.product=e.sent,e.next=5,t.product.id;case 5:if(!e.sent){e.next=9;break}e.t0=!0,e.next=10;break;case 9:e.t0=!1;case 10:t.persistent=e.t0;case 11:case"end":return e.stop()}}),e)})))()}}},Qe=Pe,$e=Object(c["a"])(Qe,ke,ye,!1,null,null,null),Se=$e.exports;$e.options.components=Object.assign(Object.create($e.options.components||null),$e.options.components||{},{QBtn:q["c"],QDialog:q["i"],QCard:q["d"],QCardSection:q["f"],QSpace:q["D"],QSeparator:q["C"],QImg:q["p"],QBadge:q["b"],QSelect:q["B"],QCardActions:q["e"]}),$e.options.directives=Object.assign(Object.create($e.options.directives||null),$e.options.directives||{},{ClosePopup:q["a"]});var Le={props:["item"],components:{ShowProduct:Se,AddToCart:je}},Ee=Le,Re=Object(c["a"])(Ee,he,Ce,!1,null,null,null),De=Re.exports;Re.options.components=Object.assign(Object.create(Re.options.components||null),Re.options.components||{},{QCard:q["d"],QCardSection:q["f"],QImg:q["p"],QBadge:q["b"],QCardActions:q["e"],QSpace:q["D"]});var Te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("q-markup-table",{attrs:{flat:""}},[r("thead",[r("tr",[r("th",{staticClass:"text-left"}),r("th",{staticClass:"text-left"},[t._v("品名")]),r("th",{staticClass:"text-right"},[t._v("數量")]),r("th",{staticClass:"text-right"},[t._v("單價")])])]),r("tbody",[t._l(t.cartData.carts,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"text-left"},[r("q-btn",{attrs:{flat:"",color:"negative",icon:"fas fa-trash-alt",size:"sm",loading:t.loading==e.id},on:{click:function(r){return t.deleteCart(e.id)}}})],1),r("td",{staticClass:"text-left"},[r("div",[t._v(t._s(e.product.title))]),e.coupon?r("div",{staticClass:"text-positive"},[t._v("已套用優惠卷")]):t._e()]),r("td",{staticClass:"text-right"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.product.price)))])])})),r("tr",[r("td",{staticClass:"text-left"}),r("td",{staticClass:"text-left"}),r("td",{staticClass:"text-right"},[t._v("總計")]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cartData.total)))])]),t.cartData.final_total!==t.cartData.total?r("tr",[r("td",{staticClass:"text-left"}),r("td",{staticClass:"text-left"}),r("td",{staticClass:"text-right"},[t._v("折扣價")]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cartData.final_total)))])]):t._e()],2)])],1)},Ne=[],Ie={data:function(){return{coupon:""}},computed:Object(b["a"])(Object(b["a"])({},Object(C["d"])("front",["cartData"])),Object(C["d"])("front",{loading:function(t){return t.loadings.deleteCart}})),methods:Object(C["b"])("front",["getCarts","deleteCart","addCouponCode"]),created:function(){this.getCarts()}},Ae=Ie,Ue=Object(c["a"])(Ae,Te,Ne,!1,null,null,null),Ve=Ue.exports;Ue.options.components=Object.assign(Object.create(Ue.options.components||null),Ue.options.components||{},{QMarkupTable:q["v"],QBtn:q["c"]});var Be=r("ce64"),Me=r.n(Be),Fe=Me.a.getScrollTarget,He=Me.a.setScrollPosition,ze={data:function(){return{showForm:!1}},components:{Cart:Ve,Coupon:ve,Order:de,ProductCard:De},computed:Object(C["d"])("front",["products"]),methods:Object(b["a"])(Object(b["a"])({},Object(C["b"])("front",["getProducts"])),{},{scrollToElement:function(t){var e=Fe(t),r=t.offsetTop,n=1e3;He(e,r,n)}}),created:function(){this.getProducts()}},Ge=ze,Je=Object(c["a"])(Ge,ae,oe,!1,null,null,null),We=Je.exports;Je.options.components=Object.assign(Object.create(Je.options.components||null),Je.options.components||{},{QPage:q["x"],QSeparator:q["C"],QBtn:q["c"]});var Ye=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-lg row justify-center align-center"},[r("div",{staticClass:"col-4 column justify-center"},[r("CheckOrderList",{attrs:{order:t.order}}),r("CheckUserInfo",{attrs:{order:t.order}}),r("div",{staticClass:"q-mt-md",attrs:{align:"right"}},[t.order.is_paid?r("q-btn",{attrs:{color:"primary",label:"回首頁",to:"/"}}):r("q-btn",{attrs:{color:"negative",label:"確認付款去",loading:t.paying},on:{click:function(e){return t.payOrder(t.order.id)}}})],1)],1)])},Ke=[],Xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-markup-table",{staticClass:"q-mt-lg",attrs:{flat:""}},[r("tbody",[r("tr",[r("td",{staticClass:"text-left text-weight-bold"},[t._v("Email")]),r("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.email))])]),r("tr",[r("td",{staticClass:"text-left text-weight-bold"},[t._v("姓名")]),r("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.name))])]),r("tr",[r("td",{staticClass:"text-left text-weight-bold"},[t._v("收件人電話")]),r("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.tel))])]),r("tr",[r("td",{staticClass:"text-left text-weight-bold"},[t._v("收件人地址")]),r("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t._v(t._s(t.order.user.address))])]),r("tr",[r("td",{staticClass:"text-left text-weight-bold"},[t._v("付款狀態")]),r("td",{staticClass:"text-left",attrs:{colspan:"2"}},[t.order.is_paid?r("div",{staticClass:"text-positive"},[t._v(" 已付款 ")]):r("div",[t._v("尚未付款")])])])])])},Ze=[],tr={props:["order"]},er=tr,rr=Object(c["a"])(er,Xe,Ze,!1,null,null,null),nr=rr.exports;rr.options.components=Object.assign(Object.create(rr.options.components||null),rr.options.components||{},{QMarkupTable:q["v"]});var ar=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-markup-table",{attrs:{flat:""}},[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[t._v("品名")]),r("th",{staticClass:"text-right"},[t._v("數量")]),r("th",{staticClass:"text-right"},[t._v("單價")])])]),r("tbody",[t._l(t.order.products,(function(e){return r("tr",{key:e.id},[r("td",{staticClass:"text-left"},[t._v(t._s(e.product.title))]),r("td",{staticClass:"text-right"},[t._v(t._s(e.qty)+"/"+t._s(e.product.unit))]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(e.final_total)))])])})),r("tr",[r("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),r("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])])],2)])},or=[],sr={props:["order"]},ir=sr,cr=Object(c["a"])(ir,ar,or,!1,null,null,null),ur=cr.exports;cr.options.components=Object.assign(Object.create(cr.options.components||null),cr.options.components||{},{QMarkupTable:q["v"]});var lr={components:{CheckOrderList:ur,CheckUserInfo:nr},computed:Object(b["a"])(Object(b["a"])({},Object(C["d"])("front",["order"])),Object(C["d"])("front",{paying:function(t){return t.loadings.payOrder}})),methods:Object(C["b"])("front",["getOrder","payOrder"]),created:function(){this.getOrder(this.$route.params.orderId)}},dr=lr,pr=Object(c["a"])(dr,Ye,Ke,!1,null,null,null),mr=pr.exports;pr.options.components=Object.assign(Object.create(pr.options.components||null),pr.options.components||{},{QPage:q["x"],QBtn:q["c"]});var fr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"q-pa-lg",staticStyle:{background:"#bfbfbf"}},[r("div",{staticClass:"row justify-start"},t._l(t.products,(function(t){return r("div",{key:t.id,staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[r("ProductCard",{attrs:{item:t}})],1)})),0)])},gr=[],br={components:{ProductCard:De},computed:Object(C["d"])("front",["products"]),methods:Object(C["b"])("front",["getAllProducts"]),created:function(){this.getAllProducts()}},vr=br,hr=Object(c["a"])(vr,fr,gr,!1,null,null,null),Cr=hr.exports;hr.options.components=Object.assign(Object.create(hr.options.components||null),hr.options.components||{},{QPage:q["x"]}),n["a"].use(d["a"]);var _r=[{path:"*",redirect:"Login"},{path:"/login",name:"Login",component:I},{path:"/",name:"Home",component:L,children:[{path:"",name:"Products",component:Cr},{path:"Checkout",name:"Checkout",component:We},{path:"payment/:orderId",name:"Payment",component:mr}]},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/admin",name:"Admin",component:rt,children:[{path:"",name:"Products",component:Et,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:At,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:ne,meta:{requiresAuth:!0}}]},{path:"/",name:"Dashboard",component:rt,children:[{path:"customer_order",name:"CustomerOrder",component:We},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:mr}]}],xr=new d["a"]({routes:_r}),qr=xr,Or=r("bc3a"),wr=r.n(Or),jr=wr.a.create({baseURL:"https://vue-course-api.hexschool.io",withCredentials:!0}),kr={user:{username:"",password:""},isLogin:!1,message:""},yr={},Pr={signin:function(t){return Object(it["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,jr.post("admin/signin",kr.user).then((function(t){t.data.success&&(r("saveLoginState",!0),r("updateUsername",""),r("updatePassword",""),qr.push("/admin")),Me.a.create({type:t.data.success?"positive":"negative",message:t.data.message})}));case 3:case"end":return e.stop()}}),e)})))()},signout:function(t){return Object(it["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,jr.post("logout").then((function(t){r("updateMessage",t.data.message),t.data.success&&(r("saveLoginState",!1),qr.push("/login"))}));case 3:case"end":return e.stop()}}),e)})))()},checkLogin:function(t){return Object(it["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,n=!1,e.next=4,jr.post("api/user/check").then((function(t){r("saveLoginState",t.data.success),n=t.data.success}));case 4:return e.next=6,n;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))()}},Qr={updateUsername:function(t,e){t.user.username=e},updatePassword:function(t,e){t.user.password=e},saveLoginState:function(t,e){t.isLogin=e},updateMessage:function(t,e){t.message=e}},$r={namespaced:!0,state:kr,getters:yr,actions:Pr,mutations:Qr},Sr=r("3835"),Lr=r("2909"),Er=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=r?t.success?"上傳成功":"上傳失敗":t.message,Me.a.create({type:t.success?"positive":"negative",message:e})},Rr=Er,Dr={products:[{name:"start",label:"分類",align:"left",field:function(t){return t.category},format:function(t){return"".concat(t)},sortable:!1},{name:"title",label:"名稱",align:"left",field:"title"},{name:"origin_price",label:"原價",align:"right",field:"origin_price",sortable:!0},{name:"price",label:"售價",align:"right",field:"price",sortable:!0},{name:"is_enabled",label:"是否啟用",align:"center",field:"is_enabled"},{name:"edit",label:"編輯",align:"center",field:"edit",style:"width: 200px"}],orders:[{name:"time",label:"購買時間",align:"left",field:"create_at",sortable:!0},{name:"email",label:"Email",align:"left",field:"user"},{name:"item",label:"購買款項",align:"left"},{name:"total",label:"應付金額",align:"left",field:"total",sortable:!0},{name:"paid",label:"是否付款",align:"left",field:"is_paid"}],coupons:[{name:"name",label:"名稱",align:"left",field:"title"},{name:"percent",label:"折扣百分比(%)",align:"right",field:"percent",format:function(t){return"".concat(t,"%")}},{name:"due_date",label:"到期日",align:"right",field:"due_date"},{name:"is_enabled",label:"是否啟用",align:"center",field:"is_enable"},{name:"edit",label:"編輯",align:"center"}]},Tr=Dr,Nr=(r("99af"),wr.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("han","/admin"),withCredentials:!0})),Ir=function(t){return Nr.get("products?page="+t)},Ar=function(t){return Nr.get("orders?page="+t)},Ur=function(){return Nr.get("coupons")},Vr=function(t,e){var r=e?"product":"product/"+t.id,n=e?"post":"put",a={data:t};return Nr[n](r,a)},Br=function(t,e){var r=e?"coupon":"coupon/"+t.id,n=e?"post":"put",a={data:t};return Nr[n](r,a)},Mr=function(t){return Nr.delete("product/"+t)},Fr=function(t){return Nr.delete("coupon/"+t)},Hr=function(t){var e=new FormData;return e.append("file-to-upload",t),Nr.post("upload",e,{headers:{"Content-Type":"multipart/form-data"}})},zr={getProducts:Ir,getOrders:Ar,getCoupons:Ur,updateProduct:Vr,updateCoupon:Br,deleteProduct:Mr,deleteCoupon:Fr,uploadFile:Hr},Gr={products:[],orders:[],coupons:[],drawer:!0,title:"後台管理",loadings:{products:!1,productUpdate:null,productDelete:null,uploading:!1,orders:!1,coupons:!1,couponUpdate:null,couponDelete:null},pagination:{products:{},orders:{}},tablePage:{rowsPerPage:10},tempProducts:{},separator:"horizontal",menuList:[{icon:"fas fa-home",iconColor:"dark",label:"回首頁",separator:!0,link:"/"},{icon:"fas fa-boxes",iconColor:"secondary",label:"商品列表",separator:!1,link:"/admin"},{icon:"fas fa-list-alt",iconColor:"accent",label:"訂單列表",separator:!1,link:"/admin/orders"},{icon:"fas fa-ticket-alt",iconColor:"warning",label:"優惠卷",separator:!0,link:"/admin/coupons"},{icon:"fas fa-shopping-bag",iconColor:"dark",label:"模擬訂單",separator:!1,link:"/customer_order"}],headers:Tr},Jr={sortOrder:function(t){var e=Object(Lr["a"])(t.orders),r=[];return e.length&&(r=e.sort((function(t,e){var r=t.is_paid?1:0,n=e.is_paid?1:0;return n-r}))),r}},Wr={getProducts:function(t){var e=arguments;return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,a=e.length>1&&void 0!==e[1]?e[1]:1,n("updateLoading",["products",!0]),r.next=5,zr.getProducts(a);case 5:if(o=r.sent,s=o.data,n("updateLoading",["products",!1]),s.success){r.next=11;break}return Rr(s),r.abrupt("return",qr.push("login"));case 11:n("updateProducts",s.products),n("updatePagination",[s.pagination,"products"]);case 13:case"end":return r.stop()}}),r)})))()},getOrders:function(t){var e=arguments;return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,a=e.length>1&&void 0!==e[1]?e[1]:1,n("updateLoading",["orders",!0]),r.next=5,zr.getOrders(a);case 5:if(o=r.sent,s=o.data,n("updateLoading",["orders",!1]),s.success){r.next=11;break}return Rr(s),r.abrupt("return",qr.push("login"));case 11:n("updateOrders",s.orders),n("updatePagination",[s.pagination,"orders"]);case 13:case"end":return r.stop()}}),r)})))()},getCoupons:function(t){return Object(it["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("updateLoading",["coupons",!0]),e.next=4,zr.getCoupons();case 4:if(n=e.sent,a=n.data,r("updateLoading",["coupons",!1]),a.success){e.next=10;break}return Rr(a),e.abrupt("return",qr.push("login"));case 10:r("updateCoupons",a.coupons);case 11:case"end":return e.stop()}}),e)})))()},updateProduct:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,o=e.isNew,s=e.product,a("updateLoading",["productUpdate",o?"new":s.id]),r.next=5,zr.updateProduct(s,o);case 5:if(i=r.sent,c=i.data,a("updateLoading",["productUpdate",null]),Rr(c),c.success){r.next=11;break}return r.abrupt("return");case 11:n("getProducts");case 12:case"end":return r.stop()}}),r)})))()},updateCoupon:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,o=e.isNew,s=e.coupon,a("updateLoading",["couponUpdate",o?"new":s.id]),r.next=5,zr.updateCoupon(s,o);case 5:if(i=r.sent,c=i.data,a("updateLoading",["couponUpdate",null]),Rr(c),c.success){r.next=11;break}return r.abrupt("return");case 11:n("getCoupons");case 12:case"end":return r.stop()}}),r)})))()},deleteProduct:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,a("updateLoading",["productDelete",e]),r.next=4,zr.deleteProduct(e);case 4:if(o=r.sent,s=o.data,a("updateLoading",["productDelete",null]),Rr(s),s.success){r.next=10;break}return r.abrupt("return");case 10:n("getProducts");case 11:case"end":return r.stop()}}),r)})))()},deleteCoupon:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,a("updateLoading",["couponDelete",e]),r.next=4,zr.deleteProduct(e);case 4:if(o=r.sent,s=o.data,a("updateLoading",["couponDelete",null]),Rr(s),s.success){r.next=10;break}return r.abrupt("return");case 10:n("getCoupons");case 11:case"end":return r.stop()}}),r)})))()},uploadFile:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,n("updateLoading",["uploading",!0]),r.next=4,zr.uploadFile(e);case 4:if(a=r.sent,o=a.data,n("updateLoading",["uploading",!1]),Rr(o,!0),o.success){r.next=10;break}return r.abrupt("return");case 10:return r.abrupt("return",o.imageUrl);case 11:case"end":return r.stop()}}),r)})))()}},Yr={updateDrawer:function(t,e){t.drawer=e},updateProducts:function(t,e){t.products=e},updateOrders:function(t,e){t.orders=e},updateCoupons:function(t,e){t.coupons=e},updateLoading:function(t,e){var r=Object(Sr["a"])(e,2),n=r[0],a=r[1];t.loadings[n]=a},updateTempProduct:function(t,e){t.tempProducts=e},updatePagination:function(t,e){var r=Object(Sr["a"])(e,2),n=r[0],a=r[1];t.pagination[a]=n}},Kr={namespaced:!0,state:Gr,getters:Jr,actions:Wr,mutations:Yr},Xr=wr.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("han"),withCredentials:!0}),Zr=function(t){return Xr.get("products?page="+t)},tn=function(){return Xr.get("products/all")},en=function(t){return Xr.get("product/"+t)},rn=function(t,e){var r={data:{product_id:t,qty:e}};return Xr.post("cart",r)},nn=function(){return Xr.get("cart")},an=function(t){return Xr.delete("cart/"+t)},on=function(t){var e={data:{code:t}};return Xr.post("coupon",e)},sn=function(t){var e={data:t};return Xr.post("order",e)},cn=function(t){return Xr.get("order/"+t)},un=function(t){return Xr.post("pay/"+t)},ln={getProducts:Zr,getAllProducts:tn,getProduct:en,addToCart:rn,getCarts:nn,deleteCart:an,addCouponCode:on,createOrder:sn,getOrder:cn,payOrder:un},dn={title:"網路點數專賣",products:[],cartData:{carts:{}},checkOrderInfo:!0,order:{user:{}},pagination:{},loadings:{products:!1,product:null,addToCart:null,cart:!1,deleteCart:null,addCouponCode:!1,createOrder:!1,payOrder:!1}},pn={selectOptions:function(){for(var t=[],e=1;e<10;e++)t.push({label:"選購"+e+"件",value:e});return t}},mn={getProducts:function(t){var e=arguments;return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,a=e.length>1&&void 0!==e[1]?e[1]:1,n("updateLoading",["products",!0]),r.next=5,ln.getProducts(a);case 5:if(o=r.sent,s=o.data,n("updateLoading",["products",!1]),!s.success){r.next=10;break}return r.abrupt("return",Rr(s));case 10:n("updateProducts",s.products),n("updatePagination",[s.pagination,"products"]);case 12:case"end":return r.stop()}}),r)})))()},getAllProducts:function(t){return Object(it["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("updateLoading",["products",!0]),e.next=4,ln.getAllProducts();case 4:if(n=e.sent,a=n.data,r("updateLoading",["products",!1]),a.success){e.next=9;break}return e.abrupt("return",Rr(a));case 9:r("updateProducts",a.products);case 10:case"end":return e.stop()}}),e)})))()},getProduct:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,n("updateLoading",["product",e]),r.next=4,ln.getProduct(e);case 4:if(a=r.sent,o=a.data,n("updateLoading",["product",null]),o.success){r.next=9;break}return r.abrupt("return",Rr(o));case 9:return r.abrupt("return",o.product);case 10:case"end":return r.stop()}}),r)})))()},addToCart:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s,i,c,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,o=Object(Sr["a"])(e,2),s=o[0],i=o[1],c=void 0===i?1:i,a("updateLoading",["addToCart",s]),r.next=5,ln.addToCart(s,c);case 5:if(u=r.sent,l=u.data,a("updateLoading",["addToCart",null]),Rr(l),l.success){r.next=11;break}return r.abrupt("return");case 11:n("getCarts");case 12:case"end":return r.stop()}}),r)})))()},getCarts:function(t){return Object(it["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r("updateLoading",["cart",!0]),e.next=4,ln.getCarts();case 4:if(n=e.sent,a=n.data,r("updateLoading",["cart",!1]),a.success){e.next=9;break}return e.abrupt("return",Rr(a));case 9:r("updateCartData",a.data);case 10:case"end":return e.stop()}}),e)})))()},deleteCart:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,a("updateLoading",["deleteCart",e]),r.next=4,ln.deleteCart(e);case 4:if(o=r.sent,s=o.data,a("updateLoading",["deleteCart",null]),Rr(s),s.success){r.next=10;break}return r.abrupt("return");case 10:n("getCarts");case 11:case"end":return r.stop()}}),r)})))()},addCouponCode:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,a("updateLoading",["addCouponCode",!0]),r.next=4,ln.addCouponCode(e);case 4:if(o=r.sent,s=o.data,a("updateLoading",["addCouponCode",!1]),Rr(s),s.success){r.next=10;break}return r.abrupt("return");case 10:n("getCarts");case 11:case"end":return r.stop()}}),r)})))()},createOrder:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,a("updateLoading",["createOrder",!0]),r.next=4,ln.createOrder(e);case 4:if(o=r.sent,s=o.data,a("updateLoading",["createOrder",!1]),Rr(s),s.success){r.next=10;break}return r.abrupt("return");case 10:n("getCarts"),qr.push("payment/"+s.orderId);case 12:case"end":return r.stop()}}),r)})))()},getOrder:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,n("updateLoading",["getOrder",!0]),r.next=4,ln.getOrder(e);case 4:if(a=r.sent,n("updateLoading",["getOrder",!1]),a.data.success){r.next=8;break}return r.abrupt("return",Rr(a.data));case 8:n("updateOrder",a.data.order);case 9:case"end":return r.stop()}}),r)})))()},payOrder:function(t,e){return Object(it["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dispatch,a=t.commit,a("updateLoading",["payOrder",!0]),r.next=4,ln.payOrder(e);case 4:if(o=r.sent,s=o.data,a("updateLoading",["payOrder",!1]),Rr(s),s.success){r.next=10;break}return r.abrupt("return");case 10:n("getOrder",e);case 11:case"end":return r.stop()}}),r)})))()}},fn={updateProducts:function(t,e){t.products=e},updateLoading:function(t,e){var r=Object(Sr["a"])(e,2),n=r[0],a=r[1];t.loadings[n]=a},updatePagination:function(t,e){var r=Object(Sr["a"])(e,2),n=r[0],a=r[1];t.pagination[a]=n},updateCartData:function(t,e){t.cartData=e},updateOrder:function(t,e){t.order=e},checkOrderInfo:function(t,e){t.checkOrderInfo=e}},gn={namespaced:!0,state:dn,getters:pn,actions:mn,mutations:fn};n["a"].use(C["a"]);var bn=!1,vn=new C["a"].Store({modules:{login:$r,admin:Kr,front:gn},strict:bn}),hn=r("a7fe"),Cn=r.n(hn),_n=(r("c867"),r("db10"));r("7d6e"),r("e54f"),r("573e");n["a"].use(Me.a,{config:{notify:{}},components:{},directives:{},plugins:{Notify:Me.a},lang:_n["a"]});r("4160"),r("b64b"),r("159b");var xn=r("7bb1"),qn=r("4c93"),On=r("60d4");Object.keys(qn).forEach((function(t){Object(xn["c"])(t,qn[t])})),Object(xn["d"])("zh_TW",On),n["a"].component("ValidationProvider",xn["b"]),n["a"].component("ValidationObserver",xn["a"]);r("a9e3"),r("b680"),r("ac1f"),r("5319");var wn=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,r){var n=e&&"."!==t&&(r.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return n})))},jn=function(t){var e=new Date(1e3*t);return e.toLocaleDateString()};wr.a.defaults.withCredentials=!0,n["a"].use(Cn.a,wr.a),n["a"].filter("currency",wn),n["a"].filter("date",jn),n["a"].config.productionTip=!1,new n["a"]({router:qr,store:vn,render:function(t){return t(l)}}).$mount("#app"),qr.beforeEach((function(t,e,r){"/login"==t.path&&(vn.dispatch("login/checkLogin")?r({path:"/admin"}):r()),t.meta.requiresAuth?vn.dispatch("login/checkLogin")?r():r({path:"/login",query:{redirect:t.fullPath}}):r()}))},bd4c:function(t,e,r){},c867:function(t,e,r){}});
//# sourceMappingURL=index.86586432.js.map